{"version":3,"file":"proton.js","sources":["../src/math/MathUtil.js","../src/math/Span.js","../src/utils/WebGLUtil.js","../src/utils/DomUtil.js","../src/utils/ImgUtil.js","../src/utils/Util.js","../src/utils/Puid.js","../src/core/Pool.js","../src/debug/Stats.js","../src/events/EventDispatcher.js","../src/math/Integration.js","../src/core/Proton.js","../src/utils/Rgb.js","../src/math/ease.js","../src/math/Vector2D.js","../src/core/Particle.js","../src/utils/ColorUtil.js","../src/math/Polar2D.js","../src/math/Mat3.js","../src/math/ArraySpan.js","../src/math/Rectangle.js","../src/initialize/Rate.js","../src/initialize/Initialize.js","../src/initialize/Life.js","../src/zone/Zone.js","../src/zone/PointZone.js","../src/initialize/Position.js","../src/initialize/Velocity.js","../src/initialize/Mass.js","../src/initialize/Radius.js","../src/initialize/Body.js","../src/behaviour/Behaviour.js","../src/behaviour/Force.js","../src/behaviour/Attraction.js","../src/behaviour/RandomDrift.js","../src/behaviour/Gravity.js","../src/behaviour/Collision.js","../src/behaviour/CrossZone.js","../src/behaviour/Alpha.js","../src/behaviour/Scale.js","../src/behaviour/Rotate.js","../src/behaviour/Color.js","../src/behaviour/Cyclone.js","../src/behaviour/Repulsion.js","../src/behaviour/GravityWell.js","../src/initialize/InitializeUtil.js","../src/emitter/Emitter.js","../src/emitter/BehaviourEmitter.js","../src/emitter/FollowEmitter.js","../src/render/BaseRenderer.js","../src/render/CanvasRenderer.js","../src/render/DomRenderer.js","../src/render/EaselRenderer.js","../src/render/PixelRenderer.js","../src/render/PixiRenderer.js","../src/utils/MStack.js","../src/render/WebGLRenderer.js","../src/render/CustomRenderer.js","../src/zone/LineZone.js","../src/zone/CircleZone.js","../src/zone/RectZone.js","../src/zone/ImageZone.js","../src/debug/Debug.js","../src/index.js"],"sourcesContent":["const PI = 3.1415926;\nconst INFINITY = Infinity;\n\nconst MathUtil = {\n  PI: PI,\n  PIx2: PI * 2,\n  PI_2: PI / 2,\n  PI_180: PI / 180,\n  N180_PI: 180 / PI,\n  Infinity: -999,\n\n  isInfinity(num) {\n    return num === this.Infinity || num === INFINITY;\n  },\n\n  randomAToB(a, b, isInt = false) {\n    if (!isInt) return a + Math.random() * (b - a);\n    else return Math.floor(Math.random() * (b - a)) + a;\n  },\n\n  randomFloating(center, f, isInt) {\n    return this.randomAToB(center - f, center + f, isInt);\n  },\n\n  randomColor() {\n    return (\n      \"#\" +\n      (\"00000\" + ((Math.random() * 0x1000000) << 0).toString(16)).slice(-6)\n    );\n  },\n\n  randomZone(display) {},\n\n  floor(num, k = 4) {\n    const digits = Math.pow(10, k);\n    return Math.floor(num * digits) / digits;\n  },\n\n  degreeTransform(a) {\n    return (a * PI) / 180;\n  },\n\n  toColor16(num) {\n    return `#${num.toString(16)}`;\n  }\n};\n\nexport default MathUtil;\n","import Util from \"../utils/Util\";\nimport MathUtil from \"../math/MathUtil\";\n\nexport default class Span {\n  constructor(a, b, center) {\n    if (Util.isArray(a)) {\n      this.isArray = true;\n      this.a = a;\n    } else {\n      this.isArray = false;\n      this.a = Util.initValue(a, 1);\n      this.b = Util.initValue(b, this.a);\n      this.center = Util.initValue(center, false);\n    }\n  }\n\n  getValue(isInt = false) {\n    if (this.isArray) {\n      return Util.getRandFromArray(this.a);\n    } else {\n      if (!this.center) {\n        return MathUtil.randomAToB(this.a, this.b, isInt);\n      } else {\n        return MathUtil.randomFloating(this.a, this.b, isInt);\n      }\n    }\n  }\n\n  /**\n   * Returns a new Span object\n   *\n   * @memberof Proton#Proton.Util\n   * @method setSpanValue\n   *\n   * @todo a, b and c should be 'Mixed' or 'Number'?\n   *\n   * @param {Mixed | Span} a\n   * @param {Mixed}               b\n   * @param {Mixed}               c\n   *\n   * @return {Span}\n   */\n  static setSpanValue(a, b, c) {\n    if (a instanceof Span) {\n      return a;\n    } else {\n      if (b === undefined) {\n        return new Span(a);\n      } else {\n        if (c === undefined) return new Span(a, b);\n        else return new Span(a, b, c);\n      }\n    }\n  }\n\n  /**\n   * Returns the value from a Span, if the param is not a Span it will return the given parameter\n   *\n   * @memberof Proton#Proton.Util\n   * @method getValue\n   *\n   * @param {Mixed | Span} pan\n   *\n   * @return {Mixed} the value of Span OR the parameter if it is not a Span\n   */\n  static getSpanValue(pan) {\n    return pan instanceof Span ? pan.getValue() : pan;\n  }\n}\n","export default {\n  /**\n   * @memberof Proton#Proton.WebGLUtil\n   * @method ipot\n   *\n   * @todo add description\n   * @todo add length description\n   *\n   * @param {Number} length\n   *\n   * @return {Boolean}\n   */\n  ipot(length) {\n    return (length & (length - 1)) === 0;\n  },\n\n  /**\n   * @memberof Proton#Proton.WebGLUtil\n   * @method nhpot\n   *\n   * @todo add description\n   * @todo add length description\n   *\n   * @param {Number} length\n   *\n   * @return {Number}\n   */\n  nhpot(length) {\n    --length;\n    for (let i = 1; i < 32; i <<= 1) {\n      length = length | (length >> i);\n    }\n\n    return length + 1;\n  },\n\n  /**\n   * @memberof Proton#Proton.WebGLUtil\n   * @method makeTranslation\n   *\n   * @todo add description\n   * @todo add tx, ty description\n   * @todo add return description\n   *\n   * @param {Number} tx either 0 or 1\n   * @param {Number} ty either 0 or 1\n   *\n   * @return {Object}\n   */\n  makeTranslation(tx, ty) {\n    return [1, 0, 0, 0, 1, 0, tx, ty, 1];\n  },\n\n  /**\n   * @memberof Proton#Proton.WebGLUtil\n   * @method makeRotation\n   *\n   * @todo add description\n   * @todo add return description\n   *\n   * @param {Number} angleInRadians\n   *\n   * @return {Object}\n   */\n  makeRotation(angleInRadians) {\n    let c = Math.cos(angleInRadians);\n    let s = Math.sin(angleInRadians);\n\n    return [c, -s, 0, s, c, 0, 0, 0, 1];\n  },\n\n  /**\n   * @memberof Proton#Proton.WebGLUtil\n   * @method makeScale\n   *\n   * @todo add description\n   * @todo add tx, ty description\n   * @todo add return description\n   *\n   * @param {Number} sx either 0 or 1\n   * @param {Number} sy either 0 or 1\n   *\n   * @return {Object}\n   */\n  makeScale(sx, sy) {\n    return [sx, 0, 0, 0, sy, 0, 0, 0, 1];\n  },\n\n  /**\n   * @memberof Proton#Proton.WebGLUtil\n   * @method matrixMultiply\n   *\n   * @todo add description\n   * @todo add a, b description\n   * @todo add return description\n   *\n   * @param {Object} a\n   * @param {Object} b\n   *\n   * @return {Object}\n   */\n  matrixMultiply(a, b) {\n    let a00 = a[0 * 3 + 0];\n    let a01 = a[0 * 3 + 1];\n    let a02 = a[0 * 3 + 2];\n    let a10 = a[1 * 3 + 0];\n    let a11 = a[1 * 3 + 1];\n    let a12 = a[1 * 3 + 2];\n    let a20 = a[2 * 3 + 0];\n    let a21 = a[2 * 3 + 1];\n    let a22 = a[2 * 3 + 2];\n    let b00 = b[0 * 3 + 0];\n    let b01 = b[0 * 3 + 1];\n    let b02 = b[0 * 3 + 2];\n    let b10 = b[1 * 3 + 0];\n    let b11 = b[1 * 3 + 1];\n    let b12 = b[1 * 3 + 2];\n    let b20 = b[2 * 3 + 0];\n    let b21 = b[2 * 3 + 1];\n    let b22 = b[2 * 3 + 2];\n\n    return [\n      a00 * b00 + a01 * b10 + a02 * b20,\n      a00 * b01 + a01 * b11 + a02 * b21,\n      a00 * b02 + a01 * b12 + a02 * b22,\n      a10 * b00 + a11 * b10 + a12 * b20,\n      a10 * b01 + a11 * b11 + a12 * b21,\n      a10 * b02 + a11 * b12 + a12 * b22,\n      a20 * b00 + a21 * b10 + a22 * b20,\n      a20 * b01 + a21 * b11 + a22 * b21,\n      a20 * b02 + a21 * b12 + a22 * b22\n    ];\n  }\n};\n","export default {\n  /**\n   * Creates and returns a new canvas. The opacity is by default set to 0\n   *\n   * @memberof Proton#Proton.DomUtil\n   * @method createCanvas\n   *\n   * @param {String} $id the canvas' id\n   * @param {Number} $width the canvas' width\n   * @param {Number} $height the canvas' height\n   * @param {String} [$position=absolute] the canvas' position, default is 'absolute'\n   *\n   * @return {Object}\n   */\n  createCanvas(id, width, height, position = \"absolute\") {\n    const dom = document.createElement(\"canvas\");\n\n    dom.id = id;\n    dom.width = width;\n    dom.height = height;\n    dom.style.opacity = 0;\n    dom.style.position = position;\n    this.transform(dom, -500, -500, 0, 0);\n\n    return dom;\n  },\n\n  createDiv(id, width, height) {\n    const dom = document.createElement(\"div\");\n\n    dom.id = id;\n    dom.style.position = \"absolute\";\n    this.resize(dom, width, height);\n\n    return dom;\n  },\n\n  resize(dom, width, height) {\n    dom.style.width = width + \"px\";\n    dom.style.height = height + \"px\";\n    dom.style.marginLeft = -width / 2 + \"px\";\n    dom.style.marginTop = -height / 2 + \"px\";\n  },\n\n  /**\n   * Adds a transform: translate(), scale(), rotate() to a given div dom for all browsers\n   *\n   * @memberof Proton#Proton.DomUtil\n   * @method transform\n   *\n   * @param {HTMLDivElement} div\n   * @param {Number} $x\n   * @param {Number} $y\n   * @param {Number} $scale\n   * @param {Number} $rotate\n   */\n  transform(div, x, y, scale, rotate) {\n    div.style.willChange = \"transform\";\n    const transform = `translate(${x}px, ${y}px) scale(${scale}) rotate(${rotate}deg)`;\n    this.css3(div, \"transform\", transform);\n  },\n\n  transform3d(div, x, y, scale, rotate) {\n    div.style.willChange = \"transform\";\n    const transform = `translate3d(${x}px, ${y}px, 0) scale(${scale}) rotate(${rotate}deg)`;\n    this.css3(div, \"backfaceVisibility\", \"hidden\");\n    this.css3(div, \"transform\", transform);\n  },\n\n  css3(div, key, val) {\n    const bkey = key.charAt(0).toUpperCase() + key.substr(1);\n\n    div.style[`Webkit${bkey}`] = val;\n    div.style[`Moz${bkey}`] = val;\n    div.style[`O${bkey}`] = val;\n    div.style[`ms${bkey}`] = val;\n    div.style[`${key}`] = val;\n  }\n};\n","import WebGLUtil from \"./WebGLUtil\";\nimport DomUtil from \"./DomUtil\";\n\nconst imgsCache = {};\nconst canvasCache = {};\nlet canvasId = 0;\n\nexport default {\n  /**\n   * This will get the image data. It could be necessary to create a Proton.Zone.\n   *\n   * @memberof Proton#Proton.Util\n   * @method getImageData\n   *\n   * @param {HTMLCanvasElement}   context any canvas, must be a 2dContext 'canvas.getContext('2d')'\n   * @param {Object}              image   could be any dom image, e.g. document.getElementById('thisIsAnImgTag');\n   * @param {Proton.Rectangle}    rect\n   */\n  getImageData(context, image, rect) {\n    context.drawImage(image, rect.x, rect.y);\n    const imagedata = context.getImageData(\n      rect.x,\n      rect.y,\n      rect.width,\n      rect.height\n    );\n    context.clearRect(rect.x, rect.y, rect.width, rect.height);\n\n    return imagedata;\n  },\n\n  /**\n   * @memberof Proton#Proton.Util\n   * @method getImgFromCache\n   *\n   * @todo add description\n   * @todo describe func\n   *\n   * @param {Mixed}               img\n   * @param {Proton.Particle}     particle\n   * @param {Boolean}             drawCanvas  set to true if a canvas should be saved into particle.data.canvas\n   * @param {Boolean}             func\n   */\n  getImgFromCache(img, callback, param) {\n    const src = typeof img === \"string\" ? img : img.src;\n\n    if (imgsCache[src]) {\n      callback(imgsCache[src], param);\n    } else {\n      const image = new Image();\n      image.onload = e => {\n        imgsCache[src] = e.target;\n        callback(imgsCache[src], param);\n      };\n\n      image.src = src;\n    }\n  },\n\n  getCanvasFromCache(img, callback, param) {\n    const src = img.src;\n\n    if (!canvasCache[src]) {\n      const width = WebGLUtil.nhpot(img.width);\n      const height = WebGLUtil.nhpot(img.height);\n\n      const canvas = DomUtil.createCanvas(\n        `proton_canvas_cache_${++canvasId}`,\n        width,\n        height\n      );\n      const context = canvas.getContext(\"2d\");\n      context.drawImage(img, 0, 0, img.width, img.height);\n\n      canvasCache[src] = canvas;\n    }\n\n    callback && callback(canvasCache[src], param);\n\n    return canvasCache[src];\n  }\n};\n","import Span from \"../math/Span\";\nimport ImgUtil from \"./ImgUtil\";\n\nexport default {\n  /**\n   * Returns the default if the value is null or undefined\n   *\n   * @memberof Proton#Proton.Util\n   * @method initValue\n   *\n   * @param {Mixed} value a specific value, could be everything but null or undefined\n   * @param {Mixed} defaults the default if the value is null or undefined\n   */\n  initValue(value, defaults) {\n    value = value !== null && value !== undefined ? value : defaults;\n    return value;\n  },\n\n  /**\n   * Checks if the value is a valid array\n   *\n   * @memberof Proton#Proton.Util\n   * @method isArray\n   *\n   * @param {Array} value Any array\n   *\n   * @returns {Boolean}\n   */\n  isArray(value) {\n    return Object.prototype.toString.call(value) === \"[object Array]\";\n  },\n\n  /**\n   * Destroyes the given array\n   *\n   * @memberof Proton#Proton.Util\n   * @method emptyArray\n   *\n   * @param {Array} array Any array\n   */\n  emptyArray(arr) {\n    if (arr) arr.length = 0;\n  },\n\n  toArray(arr) {\n    return this.isArray(arr) ? arr : [arr];\n  },\n\n  getRandFromArray(arr) {\n    if (!arr) return null;\n    return arr[Math.floor(arr.length * Math.random())];\n  },\n\n  /**\n   * Destroyes the given object\n   *\n   * @memberof Proton#Proton.Util\n   * @method emptyObject\n   *\n   * @param {Object} obj Any object\n   */\n  emptyObject(obj, ignore = null) {\n    for (let key in obj) {\n      if (ignore && ignore.indexOf(key) > -1) continue;\n      delete obj[key];\n    }\n  },\n\n  /**\n   * Makes an instance of a class and binds the given array\n   *\n   * @memberof Proton#Proton.Util\n   * @method classApply\n   *\n   * @param {Function} constructor A class to make an instance from\n   * @param {Array} [args] Any array to bind it to the constructor\n   *\n   * @return {Object} The instance of constructor, optionally bind with args\n   */\n  classApply(constructor, args = null) {\n    if (!args) {\n      return new constructor();\n    } else {\n      const FactoryFunc = constructor.bind.apply(\n        constructor,\n        [null].concat(args)\n      );\n      return new FactoryFunc();\n    }\n  },\n\n  /**\n   * @memberof Proton#Proton.Util\n   * @method setVectorVal\n   *\n   * @todo add description for param `target`\n   * @todo add description for param `conf`\n   * @todo add description for function\n   *\n   * @param {Object} target\n   * @param {Object} conf\n   */\n  setVectorVal(particle, conf = null) {\n    if (!conf) return;\n\n    if (this.hasProp(conf, \"x\")) particle.p.x = conf[\"x\"];\n    if (this.hasProp(conf, \"y\")) particle.p.y = conf[\"y\"];\n\n    if (this.hasProp(conf, \"vx\")) particle.v.x = conf[\"vx\"];\n    if (this.hasProp(conf, \"vy\")) particle.v.y = conf[\"vy\"];\n\n    if (this.hasProp(conf, \"ax\")) particle.a.x = conf[\"ax\"];\n    if (this.hasProp(conf, \"ay\")) particle.a.y = conf[\"ay\"];\n\n    if (this.hasProp(conf, \"p\")) particle.p.copy(conf[\"p\"]);\n    if (this.hasProp(conf, \"v\")) particle.v.copy(conf[\"v\"]);\n    if (this.hasProp(conf, \"a\")) particle.a.copy(conf[\"a\"]);\n\n    if (this.hasProp(conf, \"position\")) particle.p.copy(conf[\"position\"]);\n    if (this.hasProp(conf, \"velocity\")) particle.v.copy(conf[\"velocity\"]);\n    if (this.hasProp(conf, \"accelerate\")) particle.a.copy(conf[\"accelerate\"]);\n  },\n\n  hasProp(target, key) {\n    if (!target) return false;\n    return target[key] !== undefined;\n    // return obj.hasOwnProperty(key);\n  },\n\n  /**\n   * set the prototype in a given prototypeObject\n   *\n   * @memberof Proton#Proton.Util\n   * @method setProp\n   *\n   * @todo add description for param `target`\n   * @todo translate desription from chinese to english\n   *\n   * @param {Object} target\n   * @param {Object} prototypeObject An object of single prototypes\n   *\n   * @return {Object} target\n   */\n  setProp(target, props) {\n    for (let prop in props) {\n      if (target.hasOwnProperty(prop)) {\n        target[prop] = Span.getSpanValue(props[prop]);\n      }\n    }\n\n    return target;\n  },\n\n  /**\n   * This will get the image data. It could be necessary to create a Proton.Zone.\n   *\n   * @memberof Proton#Proton.Util\n   * @method getImageData\n   *\n   * @param {HTMLCanvasElement}   context any canvas, must be a 2dContext 'canvas.getContext('2d')'\n   * @param {Object}              image   could be any dom image, e.g. document.getElementById('thisIsAnImgTag');\n   * @param {Proton.Rectangle}    rect\n   */\n  getImageData(context, image, rect) {\n    return ImgUtil.getImageData(context, image, rect);\n  },\n\n  destroyAll(arr, param = null) {\n    let i = arr.length;\n\n    while (i--) {\n      try {\n        arr[i].destroy(param);\n      } catch (e) {}\n\n      delete arr[i];\n    }\n\n    arr.length = 0;\n  }\n};\n","const idsMap = {};\n\nconst Puid = {\n  _index: 0,\n  _cache: {},\n\n  id(type) {\n    if (idsMap[type] === undefined || idsMap[type] === null) idsMap[type] = 0;\n    return `${type}_${idsMap[type]++}`;\n  },\n\n  getId(target) {\n    let uid = this.getIdFromCache(target);\n    if (uid) return uid;\n\n    uid = `PUID_${this._index++}`;\n    this._cache[uid] = target;\n\n    return uid;\n  },\n\n  getIdFromCache(target) {\n    let obj, id;\n\n    for (id in this._cache) {\n      obj = this._cache[id];\n\n      if (obj === target) return id;\n      if (this.isBody(obj, target) && obj.src === target.src) return id;\n    }\n\n    return null;\n  },\n\n  isBody(obj, target) {\n    return (\n      typeof obj === \"object\" &&\n      typeof target === \"object\" &&\n      obj.isInner &&\n      target.isInner\n    );\n  },\n\n  getTarget(uid) {\n    return this._cache[uid];\n  }\n};\n\nexport default Puid;\n","/**\n * Pool is the cache pool of the proton engine, it is very important.\n *\n * get(target, params, uid)\n *  Class\n *    uid = Puid.getId -> Puid save target cache\n *    target.__puid = uid\n *\n *  body\n *    uid = Puid.getId -> Puid save target cache\n *\n *\n * expire(target)\n *  cache[target.__puid] push target\n *\n */\nimport Util from \"../utils/Util\";\nimport Puid from \"../utils/Puid\";\n\nexport default class Pool {\n  /**\n   * @memberof! Proton#\n   * @constructor\n   * @alias Proton.Pool\n   *\n   * @todo add description\n   * @todo add description of properties\n   *\n   * @property {Number} total\n   * @property {Object} cache\n   */\n  constructor(num) {\n    this.total = 0;\n    this.cache = {};\n  }\n\n  /**\n   * @todo add description\n   *\n   * @method get\n   * @memberof Proton#Proton.Pool\n   *\n   * @param {Object|Function} target\n   * @param {Object} [params] just add if `target` is a function\n   *\n   * @return {Object}\n   */\n  get(target, params, uid) {\n    let p;\n    uid = uid || target.__puid || Puid.getId(target);\n\n    if (this.cache[uid] && this.cache[uid].length > 0) {\n      p = this.cache[uid].pop();\n    } else {\n      p = this.createOrClone(target, params);\n    }\n\n    p.__puid = target.__puid || uid;\n    return p;\n  }\n\n  /**\n   * @todo add description\n   *\n   * @method set\n   * @memberof Proton#Proton.Pool\n   *\n   * @param {Object} target\n   *\n   * @return {Object}\n   */\n  expire(target) {\n    return this.getCache(target.__puid).push(target);\n  }\n\n  /**\n   * Creates a new class instance\n   *\n   * @todo add more documentation\n   *\n   * @method create\n   * @memberof Proton#Proton.Pool\n   *\n   * @param {Object|Function} target any Object or Function\n   * @param {Object} [params] just add if `target` is a function\n   *\n   * @return {Object}\n   */\n  createOrClone(target, params) {\n    this.total++;\n\n    if (this.create) {\n      return this.create(target, params);\n    } else if (typeof target === \"function\") {\n      return Util.classApply(target, params);\n    } else {\n      return target.clone();\n    }\n  }\n\n  /**\n   * @todo add description - what is in the cache?\n   *\n   * @method getCount\n   * @memberof Proton#Proton.Pool\n   *\n   * @return {Number}\n   */\n  getCount() {\n    let count = 0;\n    for (let id in this.cache) count += this.cache[id].length;\n    return count++;\n  }\n\n  /**\n   * Destroyes all items from Pool.cache\n   *\n   * @method destroy\n   * @memberof Proton#Proton.Pool\n   */\n  destroy() {\n    for (let id in this.cache) {\n      this.cache[id].length = 0;\n      delete this.cache[id];\n    }\n  }\n\n  /**\n   * Returns Pool.cache\n   *\n   * @method getCache\n   * @memberof Proton#Proton.Pool\n   * @private\n   *\n   * @param {Number} uid the unique id\n   *\n   * @return {Object}\n   */\n  getCache(uid = \"default\") {\n    if (!this.cache[uid]) this.cache[uid] = [];\n    return this.cache[uid];\n  }\n}\n","export default class Stats {\n  constructor(proton) {\n    this.proton = proton;\n    this.container = null;\n    this.type = 1;\n\n    this.emitterIndex = 0;\n    this.rendererIndex = 0;\n  }\n\n  update(style, body) {\n    this.add(style, body);\n\n    const emitter = this.getEmitter();\n    const renderer = this.getRenderer();\n    let str = \"\";\n\n    switch (this.type) {\n      case 2:\n        str += \"emitter:\" + this.proton.emitters.length + \"<br>\";\n        if (emitter) str += \"em speed:\" + emitter.emitSpeed + \"<br>\";\n        if (emitter) str += \"pos:\" + this.getEmitterPos(emitter);\n        break;\n\n      case 3:\n        if (emitter)\n          str += \"initializes:\" + emitter.initializes.length + \"<br>\";\n        if (emitter)\n          str +=\n            '<span style=\"display:inline-block;\">' +\n            this.concatArr(emitter.initializes) +\n            \"</span><br>\";\n        if (emitter) str += \"behaviours:\" + emitter.behaviours.length + \"<br>\";\n        if (emitter)\n          str +=\n            '<span style=\"display:inline-block;\">' +\n            this.concatArr(emitter.behaviours) +\n            \"</span><br>\";\n        break;\n\n      case 4:\n        if (renderer) str += renderer.name + \"<br>\";\n        if (renderer) str += \"body:\" + this.getCreatedNumber(renderer) + \"<br>\";\n        break;\n\n      default:\n        str += \"particles:\" + this.proton.getCount() + \"<br>\";\n        str += \"pool:\" + this.proton.pool.getCount() + \"<br>\";\n        str += \"total:\" + this.proton.pool.total;\n    }\n\n    this.container.innerHTML = str;\n  }\n\n  add(style, body) {\n    if (!this.container) {\n      this.type = 1;\n\n      this.container = document.createElement(\"div\");\n      this.container.style.cssText = [\n        \"position:absolute;bottom:0px;left:0;cursor:pointer;\",\n        \"opacity:0.9;z-index:10000;padding:10px;font-size:12px;font-family:Helvetica,Arial,sans-serif;\",\n        \"width:120px;height:50px;background-color:#002;color:#0ff;\"\n      ].join(\"\");\n\n      this.container.addEventListener(\n        \"click\",\n        e => {\n          this.type++;\n          if (this.type > 4) this.type = 1;\n        },\n        false\n      );\n\n      let bg, color;\n      switch (style) {\n        case 2:\n          bg = \"#201\";\n          color = \"#f08\";\n          break;\n\n        case 3:\n          bg = \"#020\";\n          color = \"#0f0\";\n          break;\n\n        default:\n          bg = \"#002\";\n          color = \"#0ff\";\n      }\n\n      this.container.style[\"background-color\"] = bg;\n      this.container.style[\"color\"] = color;\n    }\n\n    if (!this.container.parentNode) {\n      body = body || this.body || document.body;\n      body.appendChild(this.container);\n    }\n  }\n\n  getEmitter() {\n    return this.proton.emitters[this.emitterIndex];\n  }\n\n  getRenderer() {\n    return this.proton.renderers[this.rendererIndex];\n  }\n\n  concatArr(arr) {\n    let result = \"\";\n    if (!arr || !arr.length) return result;\n\n    for (let i = 0; i < arr.length; i++) {\n      result += (arr[i].name || \"\").substr(0, 1) + \".\";\n    }\n\n    return result;\n  }\n\n  getCreatedNumber(renderer) {\n    return renderer.pool.total || (renderer.cpool && renderer.cpool.total) || 0;\n  }\n\n  getEmitterPos(e) {\n    return Math.round(e.p.x) + \",\" + Math.round(e.p.y);\n  }\n}\n","/*\n * EventDispatcher\n * This code reference since http://createjs.com/.\n *\n **/\n\nexport default class EventDispatcher {\n  constructor() {\n    this._listeners = null;\n  }\n\n  static bind(target) {\n    target.prototype.dispatchEvent = EventDispatcher.prototype.dispatchEvent;\n\n    target.prototype.hasEventListener =\n      EventDispatcher.prototype.hasEventListener;\n\n    target.prototype.addEventListener =\n      EventDispatcher.prototype.addEventListener;\n\n    target.prototype.removeEventListener =\n      EventDispatcher.prototype.removeEventListener;\n\n    target.prototype.removeAllEventListeners =\n      EventDispatcher.prototype.removeAllEventListeners;\n  }\n\n  addEventListener(type, listener) {\n    if (!this._listeners) {\n      this._listeners = {};\n    } else {\n      this.removeEventListener(type, listener);\n    }\n\n    if (!this._listeners[type]) this._listeners[type] = [];\n    this._listeners[type].push(listener);\n\n    return listener;\n  }\n\n  removeEventListener(type, listener) {\n    if (!this._listeners) return;\n    if (!this._listeners[type]) return;\n\n    const arr = this._listeners[type];\n    const length = arr.length;\n\n    for (let i = 0; i < length; i++) {\n      if (arr[i] === listener) {\n        if (length === 1) {\n          delete this._listeners[type];\n        }\n\n        // allows for faster checks.\n        else {\n          arr.splice(i, 1);\n        }\n\n        break;\n      }\n    }\n  }\n\n  removeAllEventListeners(type) {\n    if (!type) this._listeners = null;\n    else if (this._listeners) delete this._listeners[type];\n  }\n\n  dispatchEvent(type, args) {\n    let result = false;\n    const listeners = this._listeners;\n\n    if (type && listeners) {\n      let arr = listeners[type];\n      if (!arr) return result;\n\n      // arr = arr.slice();\n      // to avoid issues with items being removed or added during the dispatch\n\n      let handler;\n      let i = arr.length;\n      while (i--) {\n        handler = arr[i];\n        result = result || handler(args);\n      }\n    }\n\n    return !!result;\n  }\n\n  hasEventListener(type) {\n    const listeners = this._listeners;\n    return !!(listeners && listeners[type]);\n  }\n}\n","export default class Integration {\n  constructor(type) {\n    this.type = type;\n  }\n\n  calculate(particles, time, damping) {\n    this.eulerIntegrate(particles, time, damping);\n  }\n\n  // Euler Integrate\n  // https://rosettacode.org/wiki/Euler_method\n  eulerIntegrate(particle, time, damping) {\n    if (!particle.sleep) {\n      particle.old.p.copy(particle.p);\n      particle.old.v.copy(particle.v);\n\n      particle.a.multiplyScalar(1 / particle.mass);\n      particle.v.add(particle.a.multiplyScalar(time));\n      particle.p.add(particle.old.v.multiplyScalar(time));\n\n      if (damping) particle.v.multiplyScalar(damping);\n\n      particle.a.clear();\n    }\n  }\n}\n","import Pool from \"./Pool\";\nimport Util from \"../utils/Util\";\nimport Stats from \"../debug/Stats\";\nimport EventDispatcher from \"../events/EventDispatcher\";\nimport MathUtil from \"../math/MathUtil\";\nimport Integration from \"../math/Integration\";\n\nexport default class Proton {\n  static USE_CLOCK = false;\n\n  // measure 1:100\n  static MEASURE = 100;\n  static EULER = \"euler\";\n  static RK2 = \"runge-kutta2\";\n\n  // event name\n  static PARTICLE_CREATED = \"PARTICLE_CREATED\";\n  static PARTICLE_UPDATE = \"PARTICLE_UPDATE\";\n  static PARTICLE_SLEEP = \"PARTICLE_SLEEP\";\n  static PARTICLE_DEAD = \"PARTICLE_DEAD\";\n\n  static EMITTER_ADDED = \"EMITTER_ADDED\";\n  static EMITTER_REMOVED = \"EMITTER_REMOVED\";\n\n  static PROTON_UPDATE = \"PROTON_UPDATE\";\n  static PROTON_UPDATE_AFTER = \"PROTON_UPDATE_AFTER\";\n  static DEFAULT_INTERVAL = 0.0167;\n\n  static amendChangeTabsBug = true;\n\n  /**\n   * The constructor to add emitters\n   *\n   * @constructor Proton\n   *\n   * @todo proParticleCount is not in use\n   * @todo add more documentation of the single properties and parameters\n   *\n   * @param {Number} [proParticleCount] not in use?\n   * @param {Number} [integrationType=Proton.EULER]\n   *\n   * @property {String} [integrationType=Proton.EULER]\n   * @property {Array} emitters   All added emitter\n   * @property {Array} renderers  All added renderer\n   * @property {Number} time      The active time\n   * @property {Number} oldtime   The old time\n   */\n  constructor(integrationType) {\n    this.emitters = [];\n    this.renderers = [];\n\n    this.time = 0;\n    this.now = 0;\n    this.then = 0;\n    this.elapsed = 0;\n\n    this.stats = new Stats(this);\n    this.pool = new Pool(80);\n\n    this.integrationType = Util.initValue(integrationType, Proton.EULER);\n    this.integrator = new Integration(this.integrationType);\n\n    this._fps = \"auto\";\n    this._interval = Proton.DEFAULT_INTERVAL;\n  }\n\n  set fps(fps) {\n    this._fps = fps;\n    this._interval =\n      fps === \"auto\" ? Proton.DEFAULT_INTERVAL : MathUtil.floor(1 / fps, 7);\n  }\n\n  get fps() {\n    return this._fps;\n  }\n\n  /**\n   * add a type of Renderer\n   *\n   * @method addRenderer\n   * @memberof Proton\n   * @instance\n   *\n   * @param {Renderer} render\n   */\n  addRenderer(render) {\n    render.init(this);\n    this.renderers.push(render);\n  }\n\n  /**\n   * @name add a type of Renderer\n   *\n   * @method addRenderer\n   * @param {Renderer} render\n   */\n  removeRenderer(render) {\n    const index = this.renderers.indexOf(render);\n    this.renderers.splice(index, 1);\n    render.remove(this);\n  }\n\n  /**\n   * add the Emitter\n   *\n   * @method addEmitter\n   * @memberof Proton\n   * @instance\n   *\n   * @param {Emitter} emitter\n   */\n  addEmitter(emitter) {\n    this.emitters.push(emitter);\n    emitter.parent = this;\n\n    this.dispatchEvent(Proton.EMITTER_ADDED, emitter);\n  }\n\n  /**\n   * Removes an Emitter\n   *\n   * @method removeEmitter\n   * @memberof Proton\n   * @instance\n   *\n   * @param {Proton.Emitter} emitter\n   */\n  removeEmitter(emitter) {\n    const index = this.emitters.indexOf(emitter);\n    this.emitters.splice(index, 1);\n    emitter.parent = null;\n\n    this.dispatchEvent(Proton.EMITTER_REMOVED, emitter);\n  }\n\n  /**\n   * Updates all added emitters\n   *\n   * @method update\n   * @memberof Proton\n   * @instance\n   */\n  update() {\n    // 'auto' is the default browser refresh rate, the vast majority is 60fps\n    if (this._fps === \"auto\") {\n      this.dispatchEvent(Proton.PROTON_UPDATE);\n\n      if (Proton.USE_CLOCK) {\n        if (!this.then) this.then = new Date().getTime();\n        this.now = new Date().getTime();\n        this.elapsed = (this.now - this.then) * 0.001;\n        // Fix bugs such as chrome browser switching tabs causing excessive time difference\n        this.amendChangeTabsBug();\n\n        if (this.elapsed > 0) this.emittersUpdate(this.elapsed);\n        this.then = this.now;\n      } else {\n        this.emittersUpdate(Proton.DEFAULT_INTERVAL);\n      }\n\n      this.dispatchEvent(Proton.PROTON_UPDATE_AFTER);\n    }\n\n    // If the fps frame rate is set\n    else {\n      if (!this.then) this.then = new Date().getTime();\n      this.now = new Date().getTime();\n      this.elapsed = (this.now - this.then) * 0.001;\n\n      if (this.elapsed > this._interval) {\n        this.dispatchEvent(Proton.PROTON_UPDATE);\n        this.emittersUpdate(this._interval);\n        // https://stackoverflow.com/questions/19764018/controlling-fps-with-requestanimationframe\n        this.then = this.now - (this.elapsed % this._interval) * 1000;\n        this.dispatchEvent(Proton.PROTON_UPDATE_AFTER);\n      }\n    }\n  }\n\n  emittersUpdate(elapsed) {\n    let i = this.emitters.length;\n    while (i--) this.emitters[i].update(elapsed);\n  }\n\n  /**\n   * @todo add description\n   *\n   * @method amendChangeTabsBug\n   * @memberof Proton\n   * @instance\n   */\n  amendChangeTabsBug() {\n    if (!Proton.amendChangeTabsBug) return;\n    if (this.elapsed > 0.5) {\n      this.then = new Date().getTime();\n      this.elapsed = 0;\n    }\n  }\n\n  /**\n   * Counts all particles from all emitters\n   *\n   * @method getCount\n   * @memberof Proton\n   * @instance\n   */\n  getCount() {\n    let total = 0;\n    let i = this.emitters.length;\n\n    while (i--) total += this.emitters[i].particles.length;\n    return total;\n  }\n\n  getAllParticles() {\n    let particles = [];\n    let i = this.emitters.length;\n\n    while (i--) particles = particles.concat(this.emitters[i].particles);\n    return particles;\n  }\n\n  destroyAllEmitters() {\n    Util.destroyAll(this.emitters);\n  }\n\n  /**\n   * Destroys everything related to this Proton instance. This includes all emitters, and all properties\n   *\n   * @method destroy\n   * @memberof Proton\n   * @instance\n   */\n  destroy(remove = false) {\n    const destroyOther = () => {\n      this.time = 0;\n      this.then = 0;\n      this.pool.destroy();\n\n      Util.destroyAll(this.emitters);\n      Util.destroyAll(this.renderers, this.getAllParticles());\n    };\n\n    if (remove) {\n      setTimeout(destroyOther, 200);\n    } else {\n      destroyOther();\n    }\n  }\n}\n\nEventDispatcher.bind(Proton);\n","export default class Rgb {\n  constructor(r = 255, g = 255, b = 255) {\n    this.r = r;\n    this.g = g;\n    this.b = b;\n  }\n\n  reset() {\n    this.r = 255;\n    this.g = 255;\n    this.b = 255;\n  }\n}\n","import MathUtil from \"./MathUtil\";\n\nexport default {\n  easeLinear(value) {\n    return value;\n  },\n\n  easeInQuad(value) {\n    return Math.pow(value, 2);\n  },\n\n  easeOutQuad(value) {\n    return -(Math.pow(value - 1, 2) - 1);\n  },\n\n  easeInOutQuad(value) {\n    if ((value /= 0.5) < 1) return 0.5 * Math.pow(value, 2);\n\n    return -0.5 * ((value -= 2) * value - 2);\n  },\n\n  easeInCubic(value) {\n    return Math.pow(value, 3);\n  },\n\n  easeOutCubic(value) {\n    return Math.pow(value - 1, 3) + 1;\n  },\n\n  easeInOutCubic(value) {\n    if ((value /= 0.5) < 1) return 0.5 * Math.pow(value, 3);\n\n    return 0.5 * (Math.pow(value - 2, 3) + 2);\n  },\n\n  easeInQuart(value) {\n    return Math.pow(value, 4);\n  },\n\n  easeOutQuart(value) {\n    return -(Math.pow(value - 1, 4) - 1);\n  },\n\n  easeInOutQuart(value) {\n    if ((value /= 0.5) < 1) return 0.5 * Math.pow(value, 4);\n\n    return -0.5 * ((value -= 2) * Math.pow(value, 3) - 2);\n  },\n\n  easeInSine(value) {\n    return -Math.cos(value * MathUtil.PI_2) + 1;\n  },\n\n  easeOutSine(value) {\n    return Math.sin(value * MathUtil.PI_2);\n  },\n\n  easeInOutSine(value) {\n    return -0.5 * (Math.cos(Math.PI * value) - 1);\n  },\n\n  easeInExpo(value) {\n    return value === 0 ? 0 : Math.pow(2, 10 * (value - 1));\n  },\n\n  easeOutExpo(value) {\n    return value === 1 ? 1 : -Math.pow(2, -10 * value) + 1;\n  },\n\n  easeInOutExpo(value) {\n    if (value === 0) return 0;\n\n    if (value === 1) return 1;\n\n    if ((value /= 0.5) < 1) return 0.5 * Math.pow(2, 10 * (value - 1));\n\n    return 0.5 * (-Math.pow(2, -10 * --value) + 2);\n  },\n\n  easeInCirc(value) {\n    return -(Math.sqrt(1 - value * value) - 1);\n  },\n\n  easeOutCirc(value) {\n    return Math.sqrt(1 - Math.pow(value - 1, 2));\n  },\n\n  easeInOutCirc(value) {\n    if ((value /= 0.5) < 1) return -0.5 * (Math.sqrt(1 - value * value) - 1);\n    return 0.5 * (Math.sqrt(1 - (value -= 2) * value) + 1);\n  },\n\n  easeInBack(value) {\n    let s = 1.70158;\n    return value * value * ((s + 1) * value - s);\n  },\n\n  easeOutBack(value) {\n    let s = 1.70158;\n    return (value = value - 1) * value * ((s + 1) * value + s) + 1;\n  },\n\n  easeInOutBack(value) {\n    let s = 1.70158;\n    if ((value /= 0.5) < 1)\n      return 0.5 * (value * value * (((s *= 1.525) + 1) * value - s));\n    return 0.5 * ((value -= 2) * value * (((s *= 1.525) + 1) * value + s) + 2);\n  },\n\n  getEasing(ease) {\n    if (typeof ease === \"function\") return ease;\n    else return this[ease] || this.easeLinear;\n  }\n};\n","import MathUtil from \"../math/MathUtil\";\n\nexport default class Vector2D {\n  constructor(x, y) {\n    this.x = x || 0;\n    this.y = y || 0;\n  }\n\n  set(x, y) {\n    this.x = x;\n    this.y = y;\n    return this;\n  }\n\n  setX(x) {\n    this.x = x;\n    return this;\n  }\n\n  setY(y) {\n    this.y = y;\n    return this;\n  }\n\n  getGradient() {\n    if (this.x !== 0) return Math.atan2(this.y, this.x);\n    else if (this.y > 0) return MathUtil.PI_2;\n    else if (this.y < 0) return -MathUtil.PI_2;\n  }\n\n  copy(v) {\n    this.x = v.x;\n    this.y = v.y;\n\n    return this;\n  }\n\n  add(v, w) {\n    if (w !== undefined) {\n      return this.addVectors(v, w);\n    }\n\n    this.x += v.x;\n    this.y += v.y;\n\n    return this;\n  }\n\n  addXY(a, b) {\n    this.x += a;\n    this.y += b;\n\n    return this;\n  }\n\n  addVectors(a, b) {\n    this.x = a.x + b.x;\n    this.y = a.y + b.y;\n\n    return this;\n  }\n\n  sub(v, w) {\n    if (w !== undefined) {\n      return this.subVectors(v, w);\n    }\n\n    this.x -= v.x;\n    this.y -= v.y;\n\n    return this;\n  }\n\n  subVectors(a, b) {\n    this.x = a.x - b.x;\n    this.y = a.y - b.y;\n\n    return this;\n  }\n\n  divideScalar(s) {\n    if (s !== 0) {\n      this.x /= s;\n      this.y /= s;\n    } else {\n      this.set(0, 0);\n    }\n\n    return this;\n  }\n\n  multiplyScalar(s) {\n    this.x *= s;\n    this.y *= s;\n\n    return this;\n  }\n\n  negate() {\n    return this.multiplyScalar(-1);\n  }\n\n  dot(v) {\n    return this.x * v.x + this.y * v.y;\n  }\n\n  lengthSq() {\n    return this.x * this.x + this.y * this.y;\n  }\n\n  length() {\n    return Math.sqrt(this.x * this.x + this.y * this.y);\n  }\n\n  normalize() {\n    return this.divideScalar(this.length());\n  }\n\n  distanceTo(v) {\n    return Math.sqrt(this.distanceToSquared(v));\n  }\n\n  rotate(tha) {\n    const x = this.x;\n    const y = this.y;\n\n    this.x = x * Math.cos(tha) + y * Math.sin(tha);\n    this.y = -x * Math.sin(tha) + y * Math.cos(tha);\n\n    return this;\n  }\n\n  distanceToSquared(v) {\n    const dx = this.x - v.x;\n    const dy = this.y - v.y;\n\n    return dx * dx + dy * dy;\n  }\n\n  lerp(v, alpha) {\n    this.x += (v.x - this.x) * alpha;\n    this.y += (v.y - this.y) * alpha;\n\n    return this;\n  }\n\n  equals(v) {\n    return v.x === this.x && v.y === this.y;\n  }\n\n  clear() {\n    this.x = 0.0;\n    this.y = 0.0;\n    return this;\n  }\n\n  clone() {\n    return new Vector2D(this.x, this.y);\n  }\n}\n","import Rgb from \"../utils/Rgb\";\nimport Puid from \"../utils/Puid\";\nimport Util from \"../utils/Util\";\nimport ease from \"../math/ease\";\nimport Vector2D from \"../math/Vector2D\";\nimport MathUtil from \"../math/MathUtil\";\n\nexport default class Particle {\n  /**\n   * the Particle class\n   *\n   * @class Proton.Particle\n   * @constructor\n   * @param {Object} pObj the parameters object;\n   * for example {life:3,dead:false}\n   */\n  constructor(conf) {\n    /**\n     * The particle's id;\n     * @property id\n     * @type {string}\n     */\n    this.name = \"Particle\";\n    this.id = Puid.id(this.name);\n    this.old = {};\n    this.data = {};\n    this.behaviours = [];\n\n    this.p = new Vector2D();\n    this.v = new Vector2D();\n    this.a = new Vector2D();\n    this.old.p = new Vector2D();\n    this.old.v = new Vector2D();\n    this.old.a = new Vector2D();\n\n    this.rgb = new Rgb();\n    this.reset();\n    conf && Util.setProp(this, conf);\n  }\n\n  getDirection() {\n    return Math.atan2(this.v.x, -this.v.y) * MathUtil.N180_PI;\n  }\n\n  reset() {\n    this.life = Infinity;\n    this.age = 0;\n\n    this.dead = false;\n    this.sleep = false;\n    this.body = null;\n    this.sprite = null;\n    this.parent = null;\n\n    this.energy = 1; // Energy Loss\n    this.mass = 1;\n    this.radius = 10;\n    this.alpha = 1;\n    this.scale = 1;\n    this.rotation = 0;\n    this.color = null;\n\n    this.p.set(0, 0);\n    this.v.set(0, 0);\n    this.a.set(0, 0);\n    this.old.p.set(0, 0);\n    this.old.v.set(0, 0);\n    this.old.a.set(0, 0);\n    this.easing = ease.easeLinear;\n\n    this.rgb.reset();\n    Util.emptyObject(this.data);\n    this.removeAllBehaviours();\n\n    return this;\n  }\n\n  update(time, index) {\n    if (!this.sleep) {\n      this.age += time;\n      this.applyBehaviours(time, index);\n    }\n\n    if (this.age < this.life) {\n      const scale = this.easing(this.age / this.life);\n      this.energy = Math.max(1 - scale, 0);\n    } else {\n      this.destroy();\n    }\n  }\n\n  applyBehaviours(time, index) {\n    const length = this.behaviours.length;\n    let i;\n\n    for (i = 0; i < length; i++) {\n      this.behaviours[i] &&\n        this.behaviours[i].applyBehaviour(this, time, index);\n    }\n  }\n\n  addBehaviour(behaviour) {\n    this.behaviours.push(behaviour);\n\n    if (behaviour.hasOwnProperty(\"parents\")) behaviour.parents.push(this);\n    behaviour.initialize(this);\n  }\n\n  addBehaviours(behaviours) {\n    const length = behaviours.length;\n    let i;\n\n    for (i = 0; i < length; i++) {\n      this.addBehaviour(behaviours[i]);\n    }\n  }\n\n  removeBehaviour(behaviour) {\n    const index = this.behaviours.indexOf(behaviour);\n\n    if (index > -1) {\n      const behaviour = this.behaviours.splice(index, 1);\n      behaviour.parents = null;\n    }\n  }\n\n  removeAllBehaviours() {\n    Util.emptyArray(this.behaviours);\n  }\n\n  /**\n   * Destory this particle\n   * @method destroy\n   */\n  destroy() {\n    this.removeAllBehaviours();\n    this.energy = 0;\n    this.dead = true;\n    this.parent = null;\n  }\n}\n","export default {\n  /**\n   * @typedef  {Object} rgbObject\n   * @property {Number} r red value\n   * @property {Number} g green value\n   * @property {Number} b blue value\n   */\n  /**\n   * converts a hex value to a rgb object\n   *\n   * @memberof Proton#Proton.Util\n   * @method hexToRgb\n   *\n   * @param {String} h any hex value, e.g. #000000 or 000000 for black\n   *\n   * @return {rgbObject}\n   */\n  hexToRgb(h) {\n    const hex16 = h.charAt(0) === \"#\" ? h.substring(1, 7) : h;\n    const r = parseInt(hex16.substring(0, 2), 16);\n    const g = parseInt(hex16.substring(2, 4), 16);\n    const b = parseInt(hex16.substring(4, 6), 16);\n\n    return { r, g, b };\n  },\n\n  /**\n   * converts a rgb value to a rgb string\n   *\n   * @memberof Proton#Proton.Util\n   * @method rgbToHex\n   *\n   * @param {Object | Proton.hexToRgb} rgb a rgb object like in {@link Proton#Proton.}\n   *\n   * @return {String} rgb()\n   */\n  rgbToHex(rbg) {\n    return `rgb(${rbg.r}, ${rbg.g}, ${rbg.b})`;\n  },\n\n  getHex16FromParticle(p) {\n    return Number(p.rgb.r) * 65536 + Number(p.rgb.g) * 256 + Number(p.rgb.b);\n  }\n};\n","import Vector2D from \"./Vector2D\";\n\nexport default class Polar2D {\n  constructor(r, tha) {\n    this.r = Math.abs(r) || 0;\n    this.tha = tha || 0;\n  }\n\n  set(r, tha) {\n    this.r = r;\n    this.tha = tha;\n    return this;\n  }\n\n  setR(r) {\n    this.r = r;\n    return this;\n  }\n\n  setTha(tha) {\n    this.tha = tha;\n    return this;\n  }\n\n  copy(p) {\n    this.r = p.r;\n    this.tha = p.tha;\n    return this;\n  }\n\n  toVector() {\n    return new Vector2D(this.getX(), this.getY());\n  }\n\n  getX() {\n    return this.r * Math.sin(this.tha);\n  }\n\n  getY() {\n    return -this.r * Math.cos(this.tha);\n  }\n\n  normalize() {\n    this.r = 1;\n    return this;\n  }\n\n  equals(v) {\n    return v.r === this.r && v.tha === this.tha;\n  }\n\n  clear() {\n    this.r = 0.0;\n    this.tha = 0.0;\n    return this;\n  }\n\n  clone() {\n    return new Polar2D(this.r, this.tha);\n  }\n}\n","const Mat3 = {\n  create(mat3) {\n    const mat = new Float32Array(9);\n    if (mat3) this.set(mat3, mat);\n\n    return mat;\n  },\n\n  set(mat1, mat2) {\n    for (let i = 0; i < 9; i++) mat2[i] = mat1[i];\n\n    return mat2;\n  },\n\n  multiply(mat, mat2, mat3) {\n    let a00 = mat[0],\n      a01 = mat[1],\n      a02 = mat[2],\n      a10 = mat[3],\n      a11 = mat[4],\n      a20 = mat[6],\n      a21 = mat[7],\n      b00 = mat2[0],\n      b01 = mat2[1],\n      b02 = mat2[2],\n      b10 = mat2[3],\n      b11 = mat2[4],\n      b20 = mat2[6],\n      b21 = mat2[7];\n\n    mat3[0] = b00 * a00 + b01 * a10;\n    mat3[1] = b00 * a01 + b01 * a11;\n    mat3[2] = a02 * b02;\n    mat3[3] = b10 * a00 + b11 * a10;\n    mat3[4] = b10 * a01 + b11 * a11;\n    mat3[6] = b20 * a00 + b21 * a10 + a20;\n    mat3[7] = b20 * a01 + b21 * a11 + a21;\n\n    return mat3;\n  },\n\n  inverse(mat, mat3) {\n    let a00 = mat[0],\n      a01 = mat[1],\n      a10 = mat[3],\n      a11 = mat[4],\n      a20 = mat[6],\n      a21 = mat[7],\n      b01 = a11,\n      b11 = -a10,\n      b21 = a21 * a10 - a11 * a20,\n      d = a00 * b01 + a01 * b11,\n      id;\n\n    id = 1 / d;\n    mat3[0] = b01 * id;\n    mat3[1] = -a01 * id;\n    mat3[3] = b11 * id;\n    mat3[4] = a00 * id;\n    mat3[6] = b21 * id;\n    mat3[7] = (-a21 * a00 + a01 * a20) * id;\n\n    return mat3;\n  },\n\n  multiplyVec2(m, vec, mat3) {\n    let x = vec[0],\n      y = vec[1];\n\n    mat3[0] = x * m[0] + y * m[3] + m[6];\n    mat3[1] = x * m[1] + y * m[4] + m[7];\n\n    return mat3;\n  }\n};\n\nexport default Mat3;\n","import Span from \"./Span\";\nimport Util from \"../utils/Util\";\nimport MathUtil from \"./MathUtil\";\n\nexport default class ArraySpan extends Span {\n  constructor(color) {\n    super();\n    this._arr = Util.toArray(color);\n  }\n\n  getValue() {\n    const val = Util.getRandFromArray(this._arr);\n    return val === \"random\" || val === \"Random\" ? MathUtil.randomColor() : val;\n  }\n\n  /**\n   * Make sure that the color is an instance of Proton.ArraySpan, if not it makes a new instance\n   *\n   * @method setSpanValue\n   * @memberof Proton#Proton.Color\n   * @instance\n   *\n   * @param {Proton.Particle} particle\n   * @param {Number} the integrate time 1/ms\n   * @param {Int} the particle index\n   */\n  static createArraySpan(arr) {\n    if (!arr) return null;\n\n    if (arr instanceof ArraySpan) return arr;\n    else return new ArraySpan(arr);\n  }\n}\n","export default class Rectangle {\n  constructor(x, y, w, h) {\n    this.x = x;\n    this.y = y;\n\n    this.width = w;\n    this.height = h;\n\n    this.bottom = this.y + this.height;\n    this.right = this.x + this.width;\n  }\n\n  contains(x, y) {\n    if (x <= this.right && x >= this.x && y <= this.bottom && y >= this.y)\n      return true;\n    else return false;\n  }\n}\n","import Span from \"../math/Span\";\nimport Util from \"../utils/Util\";\n\nexport default class Rate {\n  /**\n   * The number of particles per second emission (a [particle]/b [s]);\n   * @namespace\n   * @memberof! Proton#\n   * @constructor\n   * @alias Rate\n   *\n   * @param {Array | Number | Span} numpan the number of each emission;\n   * @param {Array | Number | Span} timepan the time of each emission;\n   * for example: new Rate(new Span(10, 20), new Span(.1, .25));\n   */\n  constructor(numpan, timepan) {\n    this.numPan = Span.setSpanValue(Util.initValue(numpan, 1));\n    this.timePan = Span.setSpanValue(Util.initValue(timepan, 1));\n\n    this.startTime = 0;\n    this.nextTime = 0;\n    this.init();\n  }\n\n  init() {\n    this.startTime = 0;\n    this.nextTime = this.timePan.getValue();\n  }\n\n  getValue(time) {\n    this.startTime += time;\n\n    if (this.startTime >= this.nextTime) {\n      this.startTime = 0;\n      this.nextTime = this.timePan.getValue();\n\n      if (this.numPan.b === 1) {\n        if (this.numPan.getValue(false) > 0.5) return 1;\n        else return 0;\n      } else {\n        return this.numPan.getValue(true);\n      }\n    }\n\n    return 0;\n  }\n}\n","export default class Initialize {\n  reset() {}\n\n  init(emitter, particle) {\n    if (particle) {\n      this.initialize(particle);\n    } else {\n      this.initialize(emitter);\n    }\n  }\n\n  // sub class init\n  initialize(target) {}\n}\n","import Span from \"../math/Span\";\nimport Initialize from \"./Initialize\";\n\nexport default class Life extends Initialize {\n  constructor(a, b, c) {\n    super();\n\n    this.lifePan = Span.setSpanValue(a, b, c);\n    this.name = \"Life\";\n  }\n\n  initialize(target) {\n    if (this.lifePan.a === Infinity) target.life = Infinity;\n    else target.life = this.lifePan.getValue();\n  }\n}\n","import Vector2D from \"../math/Vector2D\";\n\nexport default class Zone {\n  constructor() {\n    this.vector = new Vector2D(0, 0);\n    this.random = 0;\n    this.crossType = \"dead\";\n    this.alert = true;\n  }\n\n  getPosition() {}\n\n  crossing(particle) {}\n}\n","import Zone from \"./Zone\";\n\nexport default class PointZone extends Zone {\n  constructor(x, y) {\n    super();\n\n    this.x = x;\n    this.y = y;\n  }\n\n  getPosition() {\n    this.vector.x = this.x;\n    this.vector.y = this.y;\n\n    return this.vector;\n  }\n\n  crossing(particle) {\n    if (this.alert) {\n      console.error(\"Sorry, PointZone does not support crossing method!\");\n      this.alert = false;\n    }\n  }\n}\n","import Util from \"../utils/Util\";\nimport PointZone from \"../zone/PointZone\";\nimport Initialize from \"./Initialize\";\n\nexport default class Position extends Initialize {\n  constructor(zone) {\n    super();\n    this.zone = Util.initValue(zone, new PointZone());\n    this.name = \"Position\";\n  }\n\n  reset(zone) {\n    this.zone = Util.initValue(zone, new PointZone());\n  }\n\n  initialize(target) {\n    this.zone.getPosition();\n\n    target.p.x = this.zone.vector.x;\n    target.p.y = this.zone.vector.y;\n  }\n}\n","import Proton from \"../core/Proton\";\nimport Span from \"../math/Span\";\nimport Util from \"../utils/Util\";\nimport Initialize from \"./Initialize\";\nimport Polar2D from \"../math/Polar2D\";\nimport MathUtil from \"../math/MathUtil\";\n\nexport default class Velocity extends Initialize {\n  constructor(rpan, thapan, type) {\n    super();\n\n    this.rPan = Span.setSpanValue(rpan);\n    this.thaPan = Span.setSpanValue(thapan);\n    this.type = Util.initValue(type, \"vector\");\n\n    this.name = \"Velocity\";\n  }\n\n  reset(rpan, thapan, type) {\n    this.rPan = Span.setSpanValue(rpan);\n    this.thaPan = Span.setSpanValue(thapan);\n    this.type = Util.initValue(type, \"vector\");\n  }\n\n  normalizeVelocity(vr) {\n    return vr * Proton.MEASURE;\n  }\n\n  initialize(target) {\n    if (this.type === \"p\" || this.type === \"P\" || this.type === \"polar\") {\n      const polar2d = new Polar2D(\n        this.normalizeVelocity(this.rPan.getValue()),\n        this.thaPan.getValue() * MathUtil.PI_180\n      );\n\n      target.v.x = polar2d.getX();\n      target.v.y = polar2d.getY();\n    } else {\n      target.v.x = this.normalizeVelocity(this.rPan.getValue());\n      target.v.y = this.normalizeVelocity(this.thaPan.getValue());\n    }\n  }\n}\n","import Span from \"../math/Span\";\nimport Initialize from \"./Initialize\";\n\nexport default class Mass extends Initialize {\n  constructor(a, b, c) {\n    super();\n    this.massPan = Span.setSpanValue(a, b, c);\n    this.name = \"Mass\";\n  }\n\n  initialize(target) {\n    target.mass = this.massPan.getValue();\n  }\n}\n","import Span from \"../math/Span\";\nimport Initialize from \"./Initialize\";\n\nexport default class Radius extends Initialize {\n  constructor(a, b, c) {\n    super();\n    this.radius = Span.setSpanValue(a, b, c);\n\n    this.name = \"Radius\";\n  }\n\n  reset(a, b, c) {\n    this.radius = Span.setSpanValue(a, b, c);\n  }\n\n  initialize(particle) {\n    particle.radius = this.radius.getValue();\n    particle.data.oldRadius = particle.radius;\n  }\n}\n","import Util from \"../utils/Util\";\nimport ArraySpan from \"../math/ArraySpan\";\nimport Initialize from \"./Initialize\";\n\nexport default class Body extends Initialize {\n  constructor(image, w, h) {\n    super();\n\n    this.image = this.setSpanValue(image);\n    this.w = Util.initValue(w, 20);\n    this.h = Util.initValue(h, this.w);\n    this.name = \"Body\";\n  }\n\n  initialize(particle) {\n    const imageTarget = this.image.getValue();\n\n    if (typeof imageTarget === \"string\") {\n      particle.body = {\n        width: this.w,\n        height: this.h,\n        src: imageTarget,\n        isInner: true,\n        inner: true\n      };\n    } else {\n      particle.body = imageTarget;\n    }\n  }\n\n  setSpanValue(image) {\n    return image instanceof ArraySpan ? image : new ArraySpan(image);\n  }\n}\n","import Proton from '../core/Proton';\nimport Util from '../utils/Util';\nimport ease from '../math/ease';\n\nexport default class Behaviour {\n    static id = 0;\n\n    /**\n     * The Behaviour class is the base for the other Behaviour\n     *\n     * @memberof! -\n     * @interface\n     * @alias Proton.Behaviour\n     *\n     * @param {Number} life \tthe behaviours life\n     * @param {String} easing \tThe behaviour's decaying trend, for example ease.easeOutQuart\n     *\n     * @property {String}  id \t\tThe behaviours id\n     * @param {Number} [life=Infinity] \t\t\t\tthis behaviour's life\n     * @param {String} [easing=ease.easeLinear] \tthis behaviour's easing\n     * @property {Number}  age=0 \tHow long the particle should be 'alife'\n     * @property {Number}  energy=1\n     * @property {Boolean} dead=false The particle is dead at first\n     * @property {Array}   parents \tThe behaviour's parents array\n     * @property {String}  name \tThe behaviour name\n     */\n    constructor(life, easing) {\n\n        this.life = Util.initValue(life, Infinity);\n        this.easing = ease.getEasing(easing);\n\n        this.age = 0;\n        this.energy = 1;\n        this.dead = false;\n        this.parents = [];\n\n        this.id = `Behaviour_${Behaviour.id++}`;\n        this.name = 'Behaviour';\n    }\n\n    /**\n     * Reset this behaviour's parameters\n     *\n     * @method reset\n     * @memberof Proton.Behaviour\n     * @instance\n     *\n     * @param {Number} [life=Infinity] \t\tthis behaviour's life\n     * @param {String} [easing=easeLinear] \tthis behaviour's easing\n     */\n    reset(life, easing) {\n        this.life = Util.initValue(life, Infinity);\n        this.easing = ease.getEasing(easing);\n    }\n\n    /**\n     * Normalize a force by 1:100;\n     *\n     * @method normalizeForce\n     * @memberof Proton.Behaviour\n     * @instance\n     *\n     * @param {Proton.Vector2D} force\n     */\n    normalizeForce(force) {\n        return force.multiplyScalar(Proton.MEASURE);\n    }\n\n    /**\n     * Normalize a value by 1:100;\n     *\n     * @method normalizeValue\n     * @memberof Proton.Behaviour\n     * @instance\n     *\n     * @param {Number} value\n     */\n    normalizeValue(value) {\n        return value * Proton.MEASURE;\n    }\n\n    /**\n     * Initialize the behaviour's parameters for all particles\n     *\n     * @method initialize\n     * @memberof Proton.Behaviour\n     * @instance\n     *\n     * @param {Proton.Particle} particle\n     */\n    initialize(particle) {}\n\n    /**\n     * Apply this behaviour for all particles every time\n     *\n     * @method applyBehaviour\n     * @memberof Proton.Behaviour\n     * @instance\n     *\n     * @param {Proton.Particle} particle\n     * @param {Number} \t\t\ttime the integrate time 1/ms\n     * @param {Int} \t\t\tindex the particle index\n     */\n    calculate(particle, time, index) {\n        this.age += time;\n\n        if (this.age >= this.life || this.dead) {\n            this.energy = 0;\n            this.dead = true;\n            this.destroy();\n        } else {\n            const scale = this.easing(particle.age / particle.life);\n            this.energy = Math.max(1 - scale, 0);\n        }\n    }\n\n    /**\n     * Destory this behaviour\n     *\n     * @method destroy\n     * @memberof Proton.Behaviour\n     * @instance\n     */\n    destroy() {\n        let i = this.parents.length;\n        while (i--) {\n            this.parents[i].removeBehaviour(this);\n        }\n\n        this.parents.length = 0;\n    }\n}\n","import Vector2D from '../math/Vector2D';\nimport Behaviour from './Behaviour';\n\nexport default class Force extends Behaviour {\n\n\t/**\n\t * @memberof! Proton#\n\t * @augments Proton.Behaviour\n\t * @constructor\n\t * @alias Proton.Force\n\t *\n\t * @param {Number} fx\n\t * @param {Number} fy\n\t * @param {Number} [life=Infinity] \t\t\tthis behaviour's life\n\t * @param {String} [easing=ease.easeLinear] \tthis behaviour's easing\n\t *\n\t * @property {String} name The Behaviour name\n\t */\n\tconstructor(fx, fy, life, easing) {\n\t\tsuper(life, easing);\n\n\t\tthis.force = this.normalizeForce(new Vector2D(fx, fy));\n\t\tthis.name = 'Force';\n\t}\n\n\t/**\n\t * Reset this behaviour's parameters\n\t *\n\t * @method reset\n\t * @memberof Proton#Proton.Force\n\t * @instance\n\t *\n\t * @param {Number} fx\n\t * @param {Number} fy\n\t * @param {Number} [life=Infinity] \t\t\tthis behaviour's life\n\t * @param {String} [easing=ease.easeLinear] \tthis behaviour's easing\n\t */\n\treset(fx, fy, life, easing) {\n\t\tthis.force = this.normalizeForce(new Vector2D(fx, fy));\n\n\t\tlife && super.reset(life, easing);\n\t}\n\n\t/**\n\t * Apply this behaviour for all particles every time\n\t *\n\t * @method applyBehaviour\n\t * @memberof Proton#Proton.Force\n\t * @instance\n\t *\n\t * @param {Proton.Particle} particle\n\t * @param {Number} the integrate time 1/ms\n\t * @param {Int} the particle index\n\t */\n\tapplyBehaviour(particle, time, index) {\n\t\tthis.calculate(particle, time, index);\n\t\tparticle.a.add(this.force);\n\t}\n}","import Util from '../utils/Util';\nimport Vector2D from '../math/Vector2D';\nimport Behaviour from './Behaviour';\n\nexport default class Attraction extends Behaviour {\n\n\t/**\n\t * This behaviour let the particles follow one specific Proton.Vector2D\n\t *\n\t * @memberof! Proton#\n\t * @augments Proton.Behaviour\n\t * @constructor\n\t * @alias Proton.Attraction\n\t *\n\t * @todo add description for 'force' and 'radius'\n\t *\n\t * @param {Proton.Vector2D} targetPosition the attraction point coordinates\n\t * @param {Number} [force=100]\n\t * @param {Number} [radius=1000]\n\t * @param {Number} [life=Infinity] \t\t\t\tthis behaviour's life\n\t * @param {String} [easing=ease.easeLinear] \tthis behaviour's easing\n\t *\n\t * @property {Proton.Vector2D} targetPosition\n\t * @property {Number} radius\n\t * @property {Number} force\n\t * @property {Number} radiusSq\n\t * @property {Proton.Vector2D} attractionForce\n\t * @property {Number} lengthSq\n\t * @property {String} name The Behaviour name\n\t */\n\tconstructor(targetPosition, force, radius, life, easing) {\n\t\tsuper(life, easing);\n\n\t\tthis.targetPosition = Util.initValue(targetPosition, new Vector2D);\n\t\tthis.radius = Util.initValue(radius, 1000);\n\t\tthis.force = Util.initValue(this.normalizeValue(force), 100);\n\n\t\tthis.radiusSq = this.radius * this.radius\n\t\tthis.attractionForce = new Vector2D();\n\t\tthis.lengthSq = 0;\n\n\t\tthis.name = 'Attraction';\n\t}\n\n\t/**\n\t * Reset this behaviour's parameters\n\t *\n\t * @method reset\n\t * @memberof Proton#Proton.Attraction\n\t * @instance\n\t *\n\t * @todo add description for 'force' and 'radius'\n\t *\n\t * @param {Proton.Vector2D} targetPosition the attraction point coordinates\n\t * @param {Number} [force=100]\n\t * @param {Number} [radius=1000]\n\t * @param {Number} [life=Infinity] \t\t\t\tthis behaviour's life\n\t * @param {String} [easing=ease.easeLinear] \tthis behaviour's easing\n\t */\n\treset(targetPosition, force, radius, life, easing) {\n\t\tthis.targetPosition = Util.initValue(targetPosition, new Vector2D);\n\t\tthis.radius = Util.initValue(radius, 1000);\n\t\tthis.force = Util.initValue(this.normalizeValue(force), 100);\n\n\t\tthis.radiusSq = this.radius * this.radius\n\t\tthis.attractionForce = new Vector2D();\n\t\tthis.lengthSq = 0;\n\n\t\tlife && super.reset(life, easing);\n\t}\n\n\t/**\n\t * Apply this behaviour for all particles every time\n\t *\n\t * @memberof Proton#Proton.Attraction\n\t * @method applyBehaviour\n\t * @instance\n\t *\n\t * @param {Proton.Particle} particle\n\t * @param {Number} \t\t\ttime the integrate time 1/ms\n\t * @param {Int} \t\t\tindex the particle index\n\t */\n\tapplyBehaviour(particle, time, index) {\n\t\tthis.calculate(particle, time, index);\n\n\t\tthis.attractionForce.copy(this.targetPosition);\n\t\tthis.attractionForce.sub(particle.p);\n\t\tthis.lengthSq = this.attractionForce.lengthSq();\n\n\t\tif (this.lengthSq > 0.000004 && this.lengthSq < this.radiusSq) {\n\t\t\tthis.attractionForce.normalize();\n\t\t\tthis.attractionForce.multiplyScalar(1 - this.lengthSq / this.radiusSq);\n\t\t\tthis.attractionForce.multiplyScalar(this.force);\n\n\t\t\tparticle.a.add(this.attractionForce);\n\t\t}\n\t}\n}","import Vector2D from \"../math/Vector2D\";\nimport MathUtil from \"../math/MathUtil\";\nimport Behaviour from \"./Behaviour\";\n\nexport default class RandomDrift extends Behaviour {\n  /**\n   * @memberof! Proton#\n   * @augments Behaviour\n   * @constructor\n   * @alias RandomDrift\n   *\n   * @param {Number} driftX \t\t\t\tX value of the new Vector2D\n   * @param {Number} driftY  \t\t\t\tY value of the new Vector2D\n   * @param {Number} delay \t\t\t\tHow much delay the drift should have\n   * @param {Number} [life=Infinity] \t\tthis behaviour's life\n   * @param {String} [easing=easeLinear] \tthis behaviour's easing\n   *\n   * @property {Number} time The time of the drift\n   * @property {String} name The Behaviour name\n   */\n  constructor(driftX, driftY, delay, life, easing) {\n    super(life, easing);\n\n    this.reset(driftX, driftY, delay);\n    this.time = 0;\n    this.name = \"RandomDrift\";\n  }\n\n  /**\n   * Reset this behaviour's parameters\n   *\n   * @method reset\n   * @memberof Proton#RandomDrift\n   * @instance\n   *\n   * @param {Number} driftX \t\t\t\tX value of the new Vector2D\n   * @param {Number} driftY  \t\t\t\tY value of the new Vector2D\n   * @param {Number} delay \t\t\t\tHow much delay the drift should have\n   * @param {Number} [life=Infinity] \t\tthis behaviour's life\n   * @param {String} [easing=easeLinear] \tthis behaviour's easing\n   */\n  reset(driftX, driftY, delay, life, easing) {\n    this.panFoce = new Vector2D(driftX, driftY);\n    this.panFoce = this.normalizeForce(this.panFoce);\n    this.delay = delay;\n\n    life && super.reset(life, easing);\n  }\n\n  initialize(particle) {\n    particle.data.time = 0;\n  }\n\n  /**\n   * Apply this behaviour for all particles every time\n   *\n   * @method applyBehaviour\n   * @memberof Proton#RandomDrift\n   * @instance\n   *\n   * @param {Particle} particle\n   * @param {Number} \t\t\ttime the integrate time 1/ms\n   * @param {Int} \t\t\tindex the particle index\n   */\n  applyBehaviour(particle, time, index) {\n    this.calculate(particle, time, index);\n    particle.data.time += time;\n\n    if (particle.data.time >= this.delay) {\n      particle.a.addXY(\n        MathUtil.randomAToB(-this.panFoce.x, this.panFoce.x),\n        MathUtil.randomAToB(-this.panFoce.y, this.panFoce.y)\n      );\n\n      particle.data.time = 0;\n    }\n  }\n}\n","import Force from './Force';\n\nexport default class Gravity extends Force {\n\n\t/**\n\t * @memberof! Proton#\n\t * @augments Proton#Proton.Force\n\t * @constructor\n\t * @alias Proton.Gravity\n\t *\n\t * @param {Number} g \t\t\t\t\t\t\tGravity\n\t * @param {Number} [life=Infinity] \t\t\t\tthis behaviour's life\n\t * @param {String} [easing=ease.easeLinear] \tthis behaviour's easing\n\t *\n\t * @property {String} name The Behaviour name\n\t */\n\tconstructor(g, life, easing) {\n\t\tsuper(0, g, life, easing);\n\t\tthis.name = 'Gravity';\n\t}\n\n\t/**\n\t * Reset this behaviour's parameters\n\t *\n\t * @method reset\n\t * @memberof Proton#Proton.Gravity\n\t * @instance\n\t *\n\t * @param {Number} g \t\t\t\t\t\t\tGravity\n\t * @param {Number} [life=Infinity] \t\t\t\tthis behaviour's life\n\t * @param {String} [easing=ease.easeLinear] \tthis behaviour's easing\n\t */\n\treset(g, life, easing) {\n\t\tsuper.reset(0, g, life, easing);\n\t}\n}","import Util from '../utils/Util';\nimport Vector2D from '../math/Vector2D';\nimport Behaviour from './Behaviour';\n\nexport default class Collision extends Behaviour {\n\n\t/**\n\t * The callback after collision\n\t *\n\t * @callback Callback\n\t *\n\t * @param {Proton.Particle} particle\n\t * @param {Proton.Paritcle} otherParticle\n\t */\n\t/**\n\t * @memberof! Proton#\n\t * @augments Proton.Behaviour\n\t * @constructor\n\t * @alias Proton.Collision\n\t *\n\t * @todo add description to mass\n\t *\n\t * @param {Proton.Emitter} \t[emitter=null] \t\tthe attraction point coordinates\n\t * @param {Boolean} \t\t[mass=true]\n\t * @param {Callback}\t \t[callback=null]\t\tthe callback after the collision\n\t * @param {Number} [life=Infinity] \t\t\t\tthis behaviour's life\n\t * @param {String} [easing=ease.easeLinear] \tthis behaviour's easing\n\t *\n\t * @property {String} name The Behaviour name\n\t */\n\tconstructor(emitter, mass, callback, life, easing) {\n\t\tsuper(life, easing);\n\n\t\tthis.reset(emitter, mass, callback);\n\t\tthis.name = 'Collision';\n\t}\n\n\t/**\n\t * Reset this behaviour's parameters\n\t *\n\t * @memberof Proton#Proton.Collision\n\t * @method reset\n\t * @instance\n\t *\n\t * @todo add description to mass\n\t *\n\t * @param {Proton.Emitter} \t[emitter=null] \t\tthe attraction point coordinates\n\t * @param {Boolean} \t\t[mass=true]\n\t * @param {Callback}\t \t[callback=null]\t\tthe callback after the collision\n\t * @param {Number} \t\t\t[life=Infinity] \tthis behaviour's life\n\t * @param {String} [easing=ease.easeLinear] \tthis behaviour's easing\n\t */\n\treset(emitter, mass, callback, life, easing) {\n\t\tthis.emitter = Util.initValue(emitter, null);\n\t\tthis.mass = Util.initValue(mass, true);\n\t\tthis.callback = Util.initValue(callback, null);\n\n\t\tthis.collisionPool = [];\n\t\tthis.delta = new Vector2D();\n\n\t\tlife && super.reset(life, easing);\n\t}\n\n\t/**\n\t * Apply this behaviour for all particles every time\n\t *\n\t * @memberof Proton#Proton.Collision\n\t * @method applyBehaviour\n\t * @instance\n\t *\n\t * @param {Proton.Particle} particle\n\t * @param {Number} \t\t\ttime the integrate time 1/ms\n\t * @param {Int} \t\t\tindex the particle index\n\t */\n\tapplyBehaviour(particle, time, index) {\n\t\tconst newPool = this.emitter ? this.emitter.particles.slice(index) : this.pool.slice(index);\n\t\tconst length = newPool.length;\n\n\t\tlet otherParticle;\n\t\tlet lengthSq;\n\t\tlet overlap;\n\t\tlet totalMass;\n\t\tlet averageMass1, averageMass2;\n\t\tlet i;\n\n\t\tfor (i = 0; i < length; i++) {\n\t\t\totherParticle = newPool[i];\n\n\t\t\tif (otherParticle !== particle) {\n\t\t\t\tthis.delta.copy(otherParticle.p);\n\t\t\t\tthis.delta.sub(particle.p);\n\n\t\t\t\tlengthSq = this.delta.lengthSq();\n\t\t\t\tconst distance = particle.radius + otherParticle.radius;\n\n\t\t\t\tif (lengthSq <= distance * distance) {\n\t\t\t\t\toverlap = distance - Math.sqrt(lengthSq);\n\t\t\t\t\toverlap += 0.5;\n\n\t\t\t\t\ttotalMass = particle.mass + otherParticle.mass;\n\t\t\t\t\taverageMass1 = this.mass ? otherParticle.mass / totalMass : 0.5;\n\t\t\t\t\taverageMass2 = this.mass ? particle.mass / totalMass : 0.5;\n\n\t\t\t\t\tparticle.p.add(this.delta.clone().normalize().multiplyScalar(overlap * -averageMass1));\n\t\t\t\t\totherParticle.p.add(this.delta.normalize().multiplyScalar(overlap * averageMass2));\n\n\t\t\t\t\tthis.callback && this.callback(particle, otherParticle);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}","import Util from '../utils/Util';\nimport Behaviour from './Behaviour';\n\nexport default class CrossZone extends Behaviour {\n\n    /**\n     * Defines what happens if the particles come to the end of the specified zone\n     *\n     * @memberof! Proton#\n     * @augments Proton.Behaviour\n     * @constructor\n     * @alias Proton.CrossZone\n     *\n     * @param {Proton.Zone} zone \t\t\t\t\t\tcan be any Proton.Zone - e.g. Proton.RectZone()\n     * @param {String} \t\t[crossType=dead] \t\t\twhat happens if the particles pass the zone - allowed strings: dead | bound | cross\n     * @param {Number} \t\t[life=Infinity] \t\t\tthis behaviour's life\n     * @param {String} \t\t[easing=ease.easeLinear] \tthis behaviour's easing\n     *\n     * @property {String} name The Behaviour name\n     */\n    constructor(zone, crossType, life, easing) {\n        super(life, easing);\n\n        this.reset(zone, crossType);\n        this.name = 'CrossZone';\n    }\n\n    /**\n     * Reset this behaviour's parameters\n     *\n     * @method reset\n     * @memberof Proton#Proton.CrossZone\n     * @instance\n     *\n     * @param {Proton.Zone} zone \t\t\t\tcan be any Proton.Zone - e.g. Proton.RectZone()\n     * @param {String} \t\t[crossType=dead] \twhat happens if the particles pass the zone - allowed strings: dead | bound | cross\n     * @param {Number} \t\t[life=Infinity] \tthis behaviour's life\n     * @param {String} \t\t[easing=easeLinear]\tthis behaviour's easing\n     */\n    reset(zone, crossType, life, easing) {\n        this.zone = zone;\n        this.zone.crossType = Util.initValue(crossType, 'dead');\n\n        life && super.reset(life, easing);\n    }\n\n    /**\n     * Apply this behaviour for all particles every time\n     *\n     * @method applyBehaviour\n     * @memberof Proton#Proton.CrossZone\n     * @instance\n     *\n     * @param {Proton.Particle} particle\n     * @param {Number} the integrate time 1/ms\n     * @param {Int} the particle index\n     */\n    applyBehaviour(particle, time, index) {\n        this.calculate(particle, time, index);\n        this.zone.crossing(particle);\n    };\n}","import Util from \"../utils/Util\";\nimport Span from \"../math/Span\";\nimport Behaviour from \"./Behaviour\";\n\nexport default class Alpha extends Behaviour {\n  /**\n   * @memberof! Proton#\n   * @augments Proton.Behaviour\n   * @constructor\n   * @alias Proton.Alpha\n   *\n   * @todo add description for 'a' and 'b'\n   *\n   * @param {Number} a\n   * @param {String} b\n   * @param {Number} [life=Infinity] \t\t\t\tthis behaviour's life\n   * @param {String} [easing=ease.easeLinear] \tthis behaviour's easing\n   *\n   * @property {String} name The Behaviour name\n   */\n  constructor(a, b, life, easing) {\n    super(life, easing);\n\n    this.reset(a, b);\n    this.name = \"Alpha\";\n  }\n\n  /**\n   * Reset this behaviour's parameters\n   *\n   * @method reset\n   * @memberof Proton#Proton.Alpha\n   * @instance\n   *\n   * @todo add description for 'a' and 'b'\n   *\n   * @param {Number} a\n   * @param {String} b\n   * @param {Number} [life=Infinity] \t\t\t\tthis behaviour's life\n   * @param {String} [easing=ease.easeLinear] \tthis behaviour's easing\n   */\n  reset(a, b, life, easing) {\n    this.same = b === null || b === undefined ? true : false;\n    this.a = Span.setSpanValue(Util.initValue(a, 1));\n    this.b = Span.setSpanValue(b);\n\n    life && super.reset(life, easing);\n  }\n\n  /**\n   * Sets the new alpha value of the particle\n   *\n   * @method initialize\n   * @memberof Proton#Proton.Alpha\n   * @instance\n   *\n   * @param {Proton.Particle} particle A single Proton generated particle\n   */\n  initialize(particle) {\n    particle.data.alphaA = this.a.getValue();\n\n    if (this.same) particle.data.alphaB = particle.data.alphaA;\n    else particle.data.alphaB = this.b.getValue();\n  }\n\n  /**\n   * @method applyBehaviour\n   * @memberof Proton#Proton.Alpha\n   * @instance\n   *\n   * @param {Proton.Particle} particle\n   * @param {Number} \t\t\ttime the integrate time 1/ms\n   * @param {Int} \t\t\tindex the particle index\n   */\n  applyBehaviour(particle, time, index) {\n    this.calculate(particle, time, index);\n\n    particle.alpha =\n      particle.data.alphaB +\n      (particle.data.alphaA - particle.data.alphaB) * this.energy;\n\n    if (particle.alpha < 0.001) particle.alpha = 0;\n  }\n}\n","import Span from \"../math/Span\";\nimport Util from '../utils/Util';\nimport Behaviour from './Behaviour';\n\nexport default class Scale extends Behaviour {\n\n\t/**\n\t * @memberof! Proton#\n\t * @augments Proton.Behaviour\n\t * @constructor\n\t * @alias Proton.Scale\n\t *\n\t * @todo add description for 'a' and 'b'\n\t *\n\t * @param {Number} a\n\t * @param {String} b\n\t * @param {Number} [life=Infinity] \t\t\t\tthis behaviour's life\n\t * @param {String} [easing=ease.easeLinear] \tthis behaviour's easing\n\t *\n\t * @property {String} name The Behaviour name\n\t */\n\tconstructor(a, b, life, easing) {\n\t\tsuper(life, easing);\n\n\t\tthis.reset(a, b);\n\t\tthis.name = 'Scale';\n\t}\n\n\t/**\n\t * Reset this behaviour's parameters\n\t *\n\t * @method reset\n\t * @memberof Proton#Proton.Scale\n\t * @instance\n\t *\n\t * @param {Number} a\n\t * @param {String} b\n\t * @param {Number} [life=Infinity] \t\t\t\tthis behaviour's life\n\t * @param {String} [easing=ease.easeLinear] \tthis behaviour's easing\n\t */\n\treset(a, b, life, easing) {\n\t\tthis.same = b === null || b === undefined ? true : false;\n\t\tthis.a = Span.setSpanValue(Util.initValue(a, 1));\n\t\tthis.b = Span.setSpanValue(b);\n\n\t\tlife && super.reset(life, easing);\n\t}\n\n\t/**\n\t * Initialize the behaviour's parameters for all particles\n\t *\n\t * @method initialize\n\t * @memberof Proton#Proton.Scale\n\t * @instance\n\t *\n\t * @param {Proton.Particle} particle\n\t */\n\tinitialize(particle) {\n\t\tparticle.data.scaleA = this.a.getValue();\n\t\tparticle.data.oldRadius = particle.radius;\n\t\tparticle.data.scaleB = this.same ? particle.data.scaleA : this.b.getValue();\n\t};\n\n\t/**\n\t * Apply this behaviour for all particles every time\n\t *\n\t * @method applyBehaviour\n\t * @memberof Proton#Proton.Scale\n\t * @instance\n\t *\n\t * @param {Proton.Particle} particle\n\t * @param {Number} \t\t\ttime the integrate time 1/ms\n\t * @param {Int} \t\t\tindex the particle index\n\t */\n\tapplyBehaviour(particle, time, index) {\n\t\tthis.calculate(particle, time, index);\n\t\tparticle.scale = particle.data.scaleB + (particle.data.scaleA - particle.data.scaleB) * this.energy;\n\n\t\tif (particle.scale < 0.0001) particle.scale = 0;\n\t\tparticle.radius = particle.data.oldRadius * particle.scale;\n\t}\n}","import Span from \"../math/Span\";\nimport Util from '../utils/Util';\nimport Behaviour from './Behaviour';\n\nexport default class Rotate extends Behaviour {\n\n\t/**\n\t * @memberof! Proton#\n\t * @augments Proton.Behaviour\n\t * @constructor\n\t * @alias Proton.Rotate\n\t *\n\t * @todo add description for 'a', 'b' and 'style'\n\t *\n\t * @param {String} [influence=Velocity] The rotation's influence\n\t * @param {String} b\n\t * @param {String} [style=to]\n\t * @param {Number} [life=Infinity] \t\t\t\tthis behaviour's life\n\t * @param {String} [easing=ease.easeLinear] \tthis behaviour's easing\n\t *\n\t * @property {String} name The Behaviour name\n\t */\n\tconstructor(influence, b, style, life, easing) {\n\t\tsuper(life, easing);\n\n\t\tthis.reset(influence, b, style);\n\t\tthis.name = 'Rotate';\n\t}\n\n\t/**\n\t * Reset this behaviour's parameters\n\t *\n\t * @method reset\n\t * @memberof Proton#Proton.Rotate\n\t * @instance\n\t *\n\t * @todo add description for 'a', 'b' and 'style'\n\t *\n\t * @param {String} a\n\t * @param {String} b\n\t * @param {String} [style=to]\n\t * @param {Number} [life=Infinity] \t\t\t\tthis behaviour's life\n\t * @param {String} [easing=ease.easeLinear] \tthis behaviour's easing\n\t */\n\treset(a, b, style, life, easing) {\n\t\tthis.same = b === null || b === undefined ? true : false;\n\n\t\tthis.a = Span.setSpanValue(Util.initValue(a, 'Velocity'));\n\t\tthis.b = Span.setSpanValue(Util.initValue(b, 0));\n\t\tthis.style = Util.initValue(style, 'to');\n\n\t\tlife && super.reset(life, easing);\n\t}\n\n\t/**\n\t * Initialize the behaviour's parameters for all particles\n\t *\n\t * @method initialize\n\t * @memberof Proton#Proton.Rotate\n\t * @instance\n\t *\n\t * @param {Proton.Particle} particle\n\t */\n\tinitialize(particle) {\n\t\tparticle.rotation = this.a.getValue();\n\t\tparticle.data.rotationA = this.a.getValue();\n\n\t\tif (!this.same) particle.data.rotationB = this.b.getValue();\n\t};\n\n\t/**\n\t * Apply this behaviour for all particles every time\n\t *\n\t * @method applyBehaviour\n\t * @memberof Proton#Proton.Rotate\n\t * @instance\n\t *\n\t * @param {Proton.Particle} particle\n\t * @param {Number} \t\t\ttime the integrate time 1/ms\n\t * @param {Int} \t\t\tindex the particle index\n\t */\n\tapplyBehaviour(particle, time, index) {\n\t\tthis.calculate(particle, time, index);\n\n\t\tif (!this.same) {\n\t\t\tif (this.style === 'to' || this.style === 'TO' || this.style === '_') {\n\t\t\t\tparticle.rotation += particle.data.rotationB + (particle.data.rotationA - particle.data.rotationB) * this.energy\n\t\t\t} else {\n\t\t\t\tparticle.rotation += particle.data.rotationB;\n\t\t\t}\n\t\t} else if (this.a.a === 'V' || this.a.a === 'Velocity' || this.a.a === 'v') {\n\t\t\t// beta...\n\t\t\tparticle.rotation = particle.getDirection();\n\t\t}\n\t}\n\n}\n","import ColorUtil from \"../utils/ColorUtil\";\nimport ArraySpan from \"../math/ArraySpan\";\nimport Behaviour from \"./Behaviour\";\n\nexport default class Color extends Behaviour {\n  /**\n   * @memberof! Proton#\n   * @augments Proton.Behaviour\n   * @constructor\n   * @alias Proton.Color\n   *\n   * @param {Proton.ArraySpan | String} a the string should be a hex e.g. #000000 for black\n   * @param {Proton.ArraySpan | String} b the string should be a hex e.g. #000000 for black\n   * @param {Number} [life=Infinity] \tthis behaviour's life\n   * @param {String} [easing=easeLinear] \tthis behaviour's easing\n   *\n   * @property {String} name The Behaviour name\n   */\n  constructor(a, b, life, easing) {\n    super(life, easing);\n\n    this.reset(a, b);\n    this.name = \"Color\";\n  }\n\n  /**\n   * Reset this behaviour's parameters\n   *\n   * @method reset\n   * @memberof Proton#Proton.Color\n   * @instance\n   *\n   * @param {Proton.ArraySpan | String} a the string should be a hex e.g. #000000 for black\n   * @param {Proton.ArraySpan | String} b the string should be a hex e.g. #000000 for black\n   * @param {Number} [life=Infinity] \tthis behaviour's life\n   * @param {String} [easing=easeLinear] \tthis behaviour's easing\n   */\n  reset(a, b, life, easing) {\n    this.a = ArraySpan.createArraySpan(a);\n    this.b = ArraySpan.createArraySpan(b);\n    life && super.reset(life, easing);\n  }\n\n  /**\n   * Initialize the behaviour's parameters for all particles\n   *\n   * @method initialize\n   * @memberof Proton#Proton.Color\n   * @instance\n   *\n   * @param {Proton.Particle} particle\n   */\n  initialize(particle) {\n    particle.color = this.a.getValue();\n    particle.data.colorA = ColorUtil.hexToRgb(particle.color);\n\n    if (this.b) particle.data.colorB = ColorUtil.hexToRgb(this.b.getValue());\n  }\n\n  /**\n   * Apply this behaviour for all particles every time\n   *\n   * @method applyBehaviour\n   * @memberof Proton#Proton.Color\n   * @instance\n   *\n   * @param {Proton.Particle} particle\n   * @param {Number} the integrate time 1/ms\n   * @param {Int} the particle index\n   */\n  applyBehaviour(particle, time, index) {\n    if (this.b) {\n      this.calculate(particle, time, index);\n\n      particle.rgb.r =\n        particle.data.colorB.r +\n        (particle.data.colorA.r - particle.data.colorB.r) * this.energy;\n      particle.rgb.g =\n        particle.data.colorB.g +\n        (particle.data.colorA.g - particle.data.colorB.g) * this.energy;\n      particle.rgb.b =\n        particle.data.colorB.b +\n        (particle.data.colorA.b - particle.data.colorB.b) * this.energy;\n\n      particle.rgb.r = Math.floor(particle.rgb.r);\n      particle.rgb.g = Math.floor(particle.rgb.g);\n      particle.rgb.b = Math.floor(particle.rgb.b);\n    } else {\n      particle.rgb.r = particle.data.colorA.r;\n      particle.rgb.g = particle.data.colorA.g;\n      particle.rgb.b = particle.data.colorA.b;\n    }\n  }\n}\n","import MathUtil from \"../math/MathUtil\";\nimport Vector2D from \"../math/Vector2D\";\nimport Span from \"../math/Span\";\nimport Behaviour from \"./Behaviour\";\n\nconst CHANGING = \"changing\";\n\nexport default class Cyclone extends Behaviour {\n  /**\n   * @memberof! Proton#\n   * @augments Proton.Behaviour\n   * @constructor\n   * @alias Proton.Cyclone\n   *\n   * @param {Number} angle\n   * @param {Number} force\n   * @param {Number} [life=Infinity] \t\t\tthis behaviour's life\n   * @param {String} [easing=ease.easeLinear] \tthis behaviour's easing\n   *\n   * @property {String} name The Behaviour name\n   */\n  constructor(angle, force, life, easing) {\n    super(life, easing);\n    this.setAngleAndForce(angle, force);\n    this.name = \"Cyclone\";\n  }\n\n  setAngleAndForce(angle, force) {\n    this.force = CHANGING;\n    this.angle = MathUtil.PI / 2;\n\n    if (angle === \"right\") {\n      this.angle = MathUtil.PI / 2;\n    } else if (angle === \"left\") {\n      this.angle = -MathUtil.PI / 2;\n    } else if (angle === \"random\") {\n      this.angle = \"random\";\n    } else if (angle instanceof Span) {\n      this.angle = \"span\";\n      this.span = angle;\n    } else if (angle) {\n      this.angle = angle;\n    }\n\n    if (\n      String(force).toLowerCase() === \"changing\" ||\n      String(force).toLowerCase() === \"chang\" ||\n      String(force).toLowerCase() === \"auto\"\n    ) {\n      this.force = CHANGING;\n    } else if (force) {\n      this.force = force;\n    }\n  }\n\n  /**\n   * Reset this behaviour's parameters\n   *\n   * @method reset\n   * @memberof Proton#Proton.Cyclone\n   * @instance\n   *\n   * @param {Number} angle\n   * @param {Number} force\n   * @param {Number} [life=Infinity] \t\t\tthis behaviour's life\n   * @param {String} [easing=ease.easeLinear] \tthis behaviour's easing\n   */\n  reset(angle, force, life, easing) {\n    this.angle = MathUtil.PI / 2;\n    this.setAngleAndForce(angle, force);\n    life && super.reset(life, easing);\n  }\n\n  initialize(particle) {\n    if (this.angle === \"random\") {\n      particle.data.cangle = MathUtil.randomAToB(-MathUtil.PI, MathUtil.PI);\n    } else if (this.angle === \"span\") {\n      particle.data.cangle = this.span.getValue();\n    }\n\n    particle.data.cyclone = new Vector2D(0, 0);\n  }\n\n  /**\n   * Apply this behaviour for all particles every time\n   *\n   * @method applyBehaviour\n   * @memberof Proton#Proton.Cyclone\n   * @instance\n   *\n   * @param {Proton.Particle} particle\n   * @param {Number} the integrate time 1/ms\n   * @param {Int} the particle index\n   */\n  applyBehaviour(particle, time, index) {\n    this.calculate(particle, time, index);\n\n    let length;\n    let gradient = particle.v.getGradient();\n    if (this.angle === \"random\" || this.angle === \"span\") {\n      gradient += particle.data.cangle;\n    } else {\n      gradient += this.angle;\n    }\n\n    if (this.force === CHANGING) {\n      length = particle.v.length() / 100;\n    } else {\n      length = this.force;\n    }\n\n    particle.data.cyclone.x = length * Math.cos(gradient);\n    particle.data.cyclone.y = length * Math.sin(gradient);\n    particle.data.cyclone = this.normalizeForce(particle.data.cyclone);\n    particle.a.add(particle.data.cyclone);\n  }\n}\n","import Attraction from './Attraction';\n\nexport default class Repulsion extends Attraction {\n\n\t/**\n\t * The oppisite of Proton.Attraction - turns the force\n\t *\n\t * @memberof! Proton#\n\t * @augments Proton#Proton.Attraction\n\t * @constructor\n\t * @alias Proton.Repulsion\n\t *\n\t * @todo add description for 'force' and 'radius'\n\t *\n\t * @param {Proton.Vector2D} targetPosition the attraction point coordinates\n\t * @param {Number} [force=100]\n\t * @param {Number} [radius=1000]\n\t * @param {Number} [life=Infinity] \t\t\t\tthis behaviour's life\n\t * @param {String} [easing=ease.easeLinear] \tthis behaviour's easing\n\t *\n\t * @property {Number} force\n\t * @property {String} name The Behaviour name\n\t */\n\tconstructor(targetPosition, force, radius, life, easing) {\n\t\tsuper(targetPosition, force, radius, life, easing);\n\n\t\tthis.force *= -1;\n\t\tthis.name = 'Repulsion';\n\t}\n\n\t/**\n\t * Reset this behaviour's parameters\n\t *\n\t * @method reset\n\t * @memberof Proton#Proton.Repulsion\n\t * @instance\n\t *\n\t * @todo add description for 'force' and 'radius'\n\t *\n\t * @param {Proton.Vector2D} targetPosition the attraction point coordinates\n\t * @param {Number} [force=100]\n\t * @param {Number} [radius=1000]\n\t * @param {Number} [life=Infinity] \t\t\t\tthis behaviour's life\n\t * @param {String} [easing=ease.easeLinear] \tthis behaviour's easing\n\t */\n\treset(targetPosition, force, radius, life, easing) {\n\t\tsuper.reset(targetPosition, force, radius, life, easing);\n\t\tthis.force *= -1;\n\t}\n}\n","import Util from '../utils/Util';\nimport Vector2D from '../math/Vector2D';\nimport Behaviour from './Behaviour';\n\nexport default class GravityWell extends Behaviour {\n\n\t/**\n\t * @memberof! Proton#\n\t * @augments Behaviour\n\t * @constructor\n\t * @alias GravityWell\n\t *\n\t * @param {Vector2D} [centerPoint=new Vector2D] The point in the center\n\t * @param {Number} [force=100]\t\t\t\t\tThe force\n\t * @param {Number} [life=Infinity]\t\t\t\tthis behaviour's life\n\t * @param {String} [easing=easeLinear]\tthis behaviour's easing\n\t *\n\t * @property {String} name The Behaviour name\n\t */\n\tconstructor(centerPoint, force, life, easing) {\n\t\tsuper(life, easing);\n\n\t\tthis.distanceVec = new Vector2D();\n\t\tthis.centerPoint = Util.initValue(centerPoint, new Vector2D);\n\t\tthis.force = Util.initValue(this.normalizeValue(force), 100);\n\n\t\tthis.name = 'GravityWell';\n\t}\n\n\t/**\n\t * Reset this behaviour's parameters\n\t *\n\t * @method reset\n\t * @memberof Proton#GravityWell\n\t * @instance\n\t *\n\t * @param {Vector2D} [centerPoint=new Vector2D] The point in the center\n\t * @param {Number} [force=100]\t\t\t\t\tThe force\n\t * @param {Number} [life=Infinity]\t\t\t\tthis behaviour's life\n\t * @param {String} [easing=easeLinear]\tthis behaviour's easing\n\t */\n\treset(centerPoint, force, life, easing) {\n\t\tthis.distanceVec = new Vector2D();\n\t\tthis.centerPoint = Util.initValue(centerPoint, new Vector2D);\n\t\tthis.force = Util.initValue(this.normalizeValue(force), 100);\n\n\t\tlife && super.reset(life, easing);\n\t};\n\n\t/**\n\t * @inheritdoc\n\t */\n\tinitialize(particle) {\n\t};\n\n\t/**\n\t * Apply this behaviour for all particles every time\n\t *\n\t * @method applyBehaviour\n\t * @memberof Proton#GravityWell\n\t * @instance\n\t *\n\t * @param {Particle} particle\n\t * @param {Number} the integrate time 1/ms\n\t * @param {Int} the particle index\n\t */\n\tapplyBehaviour(particle, time, index) {\n\t\tthis.distanceVec.set(this.centerPoint.x - particle.p.x, this.centerPoint.y - particle.p.y);\n\t\tconst distanceSq = this.distanceVec.lengthSq();\n\n\t\tif (distanceSq !== 0) {\n\t\t\tconst distance = this.distanceVec.length();\n\t\t\tconst factor = (this.force * time) / (distanceSq * distance);\n\n\t\t\tparticle.v.x += factor * this.distanceVec.x;\n\t\t\tparticle.v.y += factor * this.distanceVec.y;\n\t\t}\n\t}\n}","import Util from \"../utils/Util\";\nimport Initialize from \"./Initialize\";\nimport MathUtil from \"../math/MathUtil\";\n\nexport default {\n  initialize(emitter, particle, initializes) {\n    const length = initializes.length;\n    let i;\n\n    for (i = 0; i < length; i++) {\n      if (initializes[i] instanceof Initialize) {\n        initializes[i].init(emitter, particle);\n      } else {\n        this.init(emitter, particle, initializes[i]);\n      }\n    }\n\n    this.bindEmitter(emitter, particle);\n  },\n\n  // init\n  init(emitter, particle, initialize) {\n    Util.setProp(particle, initialize);\n    Util.setVectorVal(particle, initialize);\n  },\n\n  bindEmitter(emitter, particle) {\n    if (emitter.bindEmitter) {\n      particle.p.add(emitter.p);\n      particle.v.add(emitter.v);\n      particle.a.add(emitter.a);\n\n      particle.v.rotate(MathUtil.degreeTransform(emitter.rotation));\n    }\n  }\n};\n","import Util from \"../utils/Util\";\nimport Puid from \"../utils/Puid\";\nimport Particle from \"../core/Particle\";\nimport EventDispatcher from \"../events/EventDispatcher\";\n\nimport Rate from \"../initialize/Rate\";\nimport InitializeUtil from \"../initialize/InitializeUtil\";\n\nexport default class Emitter extends Particle {\n  /**\n   * You can use this emit particles.\n   *\n   * It will dispatch follow events:\n   * PARTICLE_CREATED\n   * PARTICLE_UPDATA\n   * PARTICLE_DEAD\n   *\n   * @class Emitter\n   * @constructor\n   * @param {Object} conf the parameters object;\n   * for example {damping:0.01,bindEmitter:false}\n   */\n  constructor(conf = {}) {\n    super(conf);\n\n    this.particles = [];\n    this.behaviours = [];\n    this.initializes = [];\n\n    this.emitTime = 0;\n    this.emitSpeed = 0;\n    this.totalTime = -1;\n\n    /**\n     * The friction coefficient for all particle emit by This;\n     * @property damping\n     * @type {Number}\n     * @default 0.006\n     */\n    this.damping = 0.006;\n\n    /**\n     * If bindEmitter the particles can bind this emitter's property;\n     * @property bindEmitter\n     * @type {Boolean}\n     * @default true\n     */\n    this.bindEmitter = true;\n\n    /**\n     * The number of particles per second emit (a [particle]/b [s]);\n     * @property rate\n     * @type {Rate}\n     * @default Rate(1, .1)\n     */\n    this.rate = new Rate(1, 0.1);\n\n    this.name = \"Emitter\";\n    this.id = Puid.id(this.name);\n  }\n\n  /**\n   * start emit particle\n   * @method emit\n   * @param {Number} emitTime begin emit time;\n   * @param {String} life the life of this emitter\n   */\n  emit(totalTime, life) {\n    this.stoped = false;\n    this.emitTime = 0;\n    this.totalTime = Util.initValue(totalTime, Infinity);\n\n    if (life === true || life === \"life\" || life === \"destroy\") {\n      this.life = totalTime === \"once\" ? 1 : this.totalTime;\n    } else if (!isNaN(life)) {\n      this.life = life;\n    }\n\n    this.rate.init();\n  }\n\n  /**\n   * stop emiting\n   * @method stop\n   */\n  stop() {\n    this.totalTime = -1;\n    this.emitTime = 0;\n    this.stoped = true;\n  }\n\n  preEmit(time) {\n    let oldStoped = this.stoped;\n    let oldEmitTime = this.emitTime;\n    let oldTotalTime = this.totalTime;\n\n    this.stoped = false;\n    this.emitTime = 0;\n    this.totalTime = time;\n    this.rate.init();\n\n    const step = 0.0167;\n    while (time > step) {\n      time -= step;\n      this.update(step);\n    }\n\n    this.stoped = oldStoped;\n    this.emitTime = oldEmitTime + Math.max(time, 0);\n    this.totalTime = oldTotalTime;\n  }\n\n  /**\n   * remove current all particles\n   * @method removeAllParticles\n   */\n  removeAllParticles() {\n    let i = this.particles.length;\n    while (i--) this.particles[i].dead = true;\n  }\n\n  /**\n   * add initialize to this emitter\n   * @method addSelfInitialize\n   */\n  addSelfInitialize(initialize) {\n    if (initialize[\"init\"]) {\n      initialize.init(this);\n    } else {\n      this.initAll();\n    }\n  }\n\n  /**\n   * add the Initialize to particles;\n   *\n   * you can use initializes array:for example emitter.addInitialize(initialize1,initialize2,initialize3);\n   * @method addInitialize\n   * @param {Initialize} initialize like this new Radius(1, 12)\n   */\n  addInitialize(...rest) {\n    let i = rest.length;\n    while (i--) this.initializes.push(rest[i]);\n  }\n\n  /**\n   * remove the Initialize\n   * @method removeInitialize\n   * @param {Initialize} initialize a initialize\n   */\n  removeInitialize(initializer) {\n    const index = this.initializes.indexOf(initializer);\n    if (index > -1) this.initializes.splice(index, 1);\n  }\n\n  /**\n   * remove all Initializes\n   * @method removeInitializers\n   */\n  removeAllInitializers() {\n    Util.emptyArray(this.initializes);\n  }\n\n  /**\n   * add the Behaviour to particles;\n   *\n   * you can use Behaviours array:emitter.addBehaviour(Behaviour1,Behaviour2,Behaviour3);\n   * @method addBehaviour\n   * @param {Behaviour} behaviour like this new Color('random')\n   */\n  addBehaviour(...rest) {\n    let i = arguments.length;\n    while (i--) {\n      let behaviour = rest[i];\n      this.behaviours.push(behaviour);\n      if (behaviour.parents) behaviour.parents.push(this);\n    }\n  }\n\n  /**\n   * remove the Behaviour\n   * @method removeBehaviour\n   * @param {Behaviour} behaviour a behaviour\n   */\n  removeBehaviour(behaviour) {\n    let index = this.behaviours.indexOf(behaviour);\n    this.behaviours.splice(index, 1);\n\n    if (behaviour.parents) {\n      index = behaviour.parents.indexOf(behaviour);\n      behaviour.parents.splice(index, 1);\n    }\n\n    return index;\n  }\n\n  /**\n   * remove all behaviours\n   * @method removeAllBehaviours\n   */\n  removeAllBehaviours() {\n    Util.emptyArray(this.behaviours);\n  }\n\n  // emitter update\n  update(time) {\n    this.age += time;\n    if (this.age >= this.life || this.dead) this.destroy();\n\n    this.emitting(time);\n    this.integrate(time);\n  }\n\n  integrate(time) {\n    if (!this.parent) return;\n\n    const damping = 1 - this.damping;\n    this.parent.integrator.calculate(this, time, damping);\n\n    const length = this.particles.length;\n    let i, particle;\n\n    for (i = length - 1; i >= 0; i--) {\n      particle = this.particles[i];\n\n      // particle update\n      particle.update(time, i);\n      this.parent.integrator.calculate(particle, time, damping);\n      this.dispatch(\"PARTICLE_UPDATE\", particle);\n\n      // check dead\n      if (particle.dead) {\n        this.dispatch(\"PARTICLE_DEAD\", particle);\n\n        this.parent.pool.expire(particle);\n        this.particles.splice(i, 1);\n      }\n    }\n  }\n\n  dispatch(event, target) {\n    this.parent && this.parent.dispatchEvent(event, target);\n    this.bindEvent && this.dispatchEvent(event, target);\n  }\n\n  emitting(time) {\n    if (this.totalTime === \"once\") {\n      let i;\n      const length = this.rate.getValue(99999);\n\n      if (length > 0) this.emitSpeed = length;\n      for (i = 0; i < length; i++) this.createParticle();\n      this.totalTime = \"none\";\n    } else {\n      this.emitTime += time;\n\n      if (this.emitTime < this.totalTime) {\n        const length = this.rate.getValue(time);\n        let i;\n\n        if (length > 0) this.emitSpeed = length;\n        for (i = 0; i < length; i++) this.createParticle();\n      }\n    }\n  }\n\n  /**\n   * create single particle;\n   *\n   * can use emit({x:10},new Gravity(10),{'particleUpdate',fun}) or emit([{x:10},new Initialize],new Gravity(10),{'particleUpdate',fun})\n   * @method removeAllParticles\n   */\n  createParticle(initialize, behaviour) {\n    const particle = this.parent.pool.get(Particle);\n    this.setupParticle(particle, initialize, behaviour);\n    this.dispatch(\"PARTICLE_CREATED\", particle);\n\n    return particle;\n  }\n\n  setupParticle(particle, initialize, behaviour) {\n    let initializes = this.initializes;\n    let behaviours = this.behaviours;\n\n    if (initialize) initializes = Util.toArray(initialize);\n    if (behaviour) behaviours = Util.toArray(behaviour);\n\n    particle.reset();\n    InitializeUtil.initialize(this, particle, initializes);\n    particle.addBehaviours(behaviours);\n    particle.parent = this;\n\n    this.particles.push(particle);\n  }\n\n  remove() {\n    this.stop();\n    Util.destroyAll(this.particles);\n  }\n\n  /**\n   * Destory this Emitter\n   * @method destroy\n   */\n  destroy() {\n    this.dead = true;\n    this.remove();\n    this.removeAllInitializers();\n    this.removeAllBehaviours();\n    this.parent && this.parent.removeEmitter(this);\n  }\n}\n\nEventDispatcher.bind(Emitter);\n","import Emitter from \"./Emitter\";\n\nexport default class BehaviourEmitter extends Emitter {\n  /**\n   * The BehaviourEmitter class inherits from Proton.Emitter\n   *\n   * use the BehaviourEmitter you can add behaviours to self;\n   * @class Proton.BehaviourEmitter\n   * @constructor\n   * @param {Object} conf the parameters object;\n   */\n  constructor(conf) {\n    super(conf);\n\n    this.selfBehaviours = [];\n  }\n\n  /**\n   * add the Behaviour to emitter;\n   *\n   * you can use Behaviours array:emitter.addSelfBehaviour(Behaviour1,Behaviour2,Behaviour3);\n   * @method addSelfBehaviour\n   * @param {Proton.Behaviour} behaviour like this new Proton.Color('random')\n   */\n  addSelfBehaviour(...rest) {\n    let i,\n      length = rest.length;\n\n    for (i = 0; i < length; i++) {\n      let behaviour = rest[i];\n      this.selfBehaviours.push(behaviour);\n      behaviour.initialize(this);\n    }\n  }\n\n  /**\n   * remove the Behaviour for self\n   * @method removeSelfBehaviour\n   * @param {Proton.Behaviour} behaviour a behaviour\n   */\n  removeSelfBehaviour(behaviour) {\n    const index = this.selfBehaviours.indexOf(behaviour);\n    if (index > -1) this.selfBehaviours.splice(index, 1);\n  }\n\n  update(time) {\n    super.update(time);\n\n    if (!this.sleep) {\n      const length = this.selfBehaviours.length;\n      let i;\n\n      for (i = 0; i < length; i++) {\n        this.selfBehaviours[i].applyBehaviour(this, time, i);\n      }\n    }\n  }\n}\n","import Util from \"../utils/Util\";\nimport Emitter from \"./Emitter\";\n\nexport default class FollowEmitter extends Emitter {\n  /**\n   * The FollowEmitter class inherits from Proton.Emitter\n   *\n   * use the FollowEmitter will emit particle when mousemoving\n   *\n   * @class Proton.FollowEmitter\n   * @constructor\n   * @param {Element} mouseTarget mouseevent's target;\n   * @param {Number} ease the easing of following speed;\n   * @default 0.7\n   * @param {Object} conf the parameters object;\n   */\n  constructor(mouseTarget, ease, conf) {\n    super(conf);\n\n    this.mouseTarget = Util.initValue(mouseTarget, window);\n    this.ease = Util.initValue(ease, 0.7);\n\n    this._allowEmitting = false;\n    this.initEventHandler();\n  }\n\n  initEventHandler() {\n    this.mousemoveHandler = e => this.mousemove.call(this, e);\n    this.mousedownHandler = e => this.mousedown.call(this, e);\n    this.mouseupHandler = e => this.mouseup.call(this, e);\n\n    this.mouseTarget.addEventListener(\n      \"mousemove\",\n      this.mousemoveHandler,\n      false\n    );\n  }\n\n  /**\n   * start emit particle\n   * @method emit\n   */\n  emit() {\n    this._allowEmitting = true;\n  }\n\n  /**\n   * stop emiting\n   * @method stop\n   */\n  stop() {\n    this._allowEmitting = false;\n  }\n\n  mousemove(e) {\n    if (e.layerX || e.layerX === 0) {\n      this.p.x += (e.layerX - this.p.x) * this.ease;\n      this.p.y += (e.layerY - this.p.y) * this.ease;\n    } else if (e.offsetX || e.offsetX === 0) {\n      this.p.x += (e.offsetX - this.p.x) * this.ease;\n      this.p.y += (e.offsetY - this.p.y) * this.ease;\n    }\n\n    if (this._allowEmitting) super.emit(\"once\");\n  }\n\n  /**\n   * Destory this Emitter\n   * @method destroy\n   */\n  destroy() {\n    super.destroy();\n    this.mouseTarget.removeEventListener(\n      \"mousemove\",\n      this.mousemoveHandler,\n      false\n    );\n  }\n}\n","import Pool from \"../core/Pool\";\n\nexport default class BaseRenderer {\n    constructor(element, stroke) {\n        this.pool = new Pool();\n        this.element = element;\n        this.stroke = stroke;\n        this.circleConf = { isCircle: true };\n\n        this.initHandler();\n        this.name = \"BaseRenderer\";\n    }\n\n    setStroke(color = \"#000000\", thinkness = 1) {\n        this.stroke = { color, thinkness };\n    }\n\n    initHandler() {\n        this._protonUpdateHandler = () => {\n            this.onProtonUpdate.call(this);\n        };\n\n        this._protonUpdateAfterHandler = () => {\n            this.onProtonUpdateAfter.call(this);\n        };\n\n        this._emitterAddedHandler = emitter => {\n            this.onEmitterAdded.call(this, emitter);\n        };\n\n        this._emitterRemovedHandler = emitter => {\n            this.onEmitterRemoved.call(this, emitter);\n        };\n\n        this._particleCreatedHandler = particle => {\n            this.onParticleCreated.call(this, particle);\n        };\n\n        this._particleUpdateHandler = particle => {\n            this.onParticleUpdate.call(this, particle);\n        };\n\n        this._particleDeadHandler = particle => {\n            this.onParticleDead.call(this, particle);\n        };\n    }\n\n    init(proton) {\n        this.parent = proton;\n\n        proton.addEventListener(\"PROTON_UPDATE\", this._protonUpdateHandler);\n        proton.addEventListener(\n            \"PROTON_UPDATE_AFTER\",\n            this._protonUpdateAfterHandler\n        );\n\n        proton.addEventListener(\"EMITTER_ADDED\", this._emitterAddedHandler);\n        proton.addEventListener(\"EMITTER_REMOVED\", this._emitterRemovedHandler);\n\n        proton.addEventListener(\n            \"PARTICLE_CREATED\",\n            this._particleCreatedHandler\n        );\n        proton.addEventListener(\"PARTICLE_UPDATE\", this._particleUpdateHandler);\n        proton.addEventListener(\"PARTICLE_DEAD\", this._particleDeadHandler);\n    }\n\n    resize(width, height) {}\n\n    destroy() {\n        this.remove();\n    }\n\n    remove(proton) {\n        this.parent.removeEventListener(\n            \"PROTON_UPDATE\",\n            this._protonUpdateHandler\n        );\n        this.parent.removeEventListener(\n            \"PROTON_UPDATE_AFTER\",\n            this._protonUpdateAfterHandler\n        );\n\n        this.parent.removeEventListener(\n            \"EMITTER_ADDED\",\n            this._emitterAddedHandler\n        );\n        this.parent.removeEventListener(\n            \"EMITTER_REMOVED\",\n            this._emitterRemovedHandler\n        );\n\n        this.parent.removeEventListener(\n            \"PARTICLE_CREATED\",\n            this._particleCreatedHandler\n        );\n        this.parent.removeEventListener(\n            \"PARTICLE_UPDATE\",\n            this._particleUpdateHandler\n        );\n        this.parent.removeEventListener(\n            \"PARTICLE_DEAD\",\n            this._particleDeadHandler\n        );\n\n        this.parent = null;\n    }\n\n    onProtonUpdate() {}\n    onProtonUpdateAfter() {}\n\n    onEmitterAdded(emitter) {}\n    onEmitterRemoved(emitter) {}\n\n    onParticleCreated(particle) {}\n    onParticleUpdate(particle) {}\n    onParticleDead(particle) {}\n}\n","import ImgUtil from \"../utils/ImgUtil\";\nimport ColorUtil from \"../utils/ColorUtil\";\nimport MathUtil from \"../math/MathUtil\";\nimport BaseRenderer from \"./BaseRenderer\";\n\nexport default class CanvasRenderer extends BaseRenderer {\n    constructor(element) {\n        super(element);\n\n        this.stroke = null;\n        this.context = this.element.getContext(\"2d\");\n        this.bufferCache = {};\n        this.name = \"CanvasRenderer\";\n    }\n\n    resize(width, height) {\n        this.element.width = width;\n        this.element.height = height;\n    }\n\n    onProtonUpdate() {\n        this.context.clearRect(0, 0, this.element.width, this.element.height);\n    }\n\n    onParticleCreated(particle) {\n        if (particle.body) {\n            ImgUtil.getImgFromCache(particle.body, this.addImg2Body, particle);\n        } else {\n            particle.color = particle.color || \"#ff0000\";\n        }\n    }\n\n    onParticleUpdate(particle) {\n        if (particle.body) {\n            if (particle.body instanceof Image) this.drawImage(particle);\n        } else {\n            this.drawCircle(particle);\n        }\n    }\n\n    onParticleDead(particle) {\n        particle.body = null;\n    }\n\n    // private\n    addImg2Body(img, particle) {\n        particle.body = img;\n    }\n\n    // private drawCircle\n    drawImage(particle) {\n        const w = (particle.body.width * particle.scale) | 0;\n        const h = (particle.body.height * particle.scale) | 0;\n        const x = particle.p.x - w / 2;\n        const y = particle.p.y - h / 2;\n\n        if (!!particle.color) {\n            if (!particle.data[\"buffer\"])\n                particle.data.buffer = this.createBuffer(particle.body);\n\n            const bufContext = particle.data.buffer.getContext(\"2d\");\n            bufContext.clearRect(\n                0,\n                0,\n                particle.data.buffer.width,\n                particle.data.buffer.height\n            );\n            bufContext.globalAlpha = particle.alpha;\n            bufContext.drawImage(particle.body, 0, 0);\n\n            bufContext.globalCompositeOperation = \"source-atop\";\n            bufContext.fillStyle = ColorUtil.rgbToHex(particle.rgb);\n            bufContext.fillRect(\n                0,\n                0,\n                particle.data.buffer.width,\n                particle.data.buffer.height\n            );\n            bufContext.globalCompositeOperation = \"source-over\";\n            bufContext.globalAlpha = 1;\n\n            this.context.drawImage(\n                particle.data.buffer,\n                0,\n                0,\n                particle.data.buffer.width,\n                particle.data.buffer.height,\n                x,\n                y,\n                w,\n                h\n            );\n        } else {\n            this.context.save();\n\n            this.context.globalAlpha = particle.alpha;\n            this.context.translate(particle.p.x, particle.p.y);\n            this.context.rotate(MathUtil.degreeTransform(particle.rotation));\n            this.context.translate(-particle.p.x, -particle.p.y);\n            this.context.drawImage(\n                particle.body,\n                0,\n                0,\n                particle.body.width,\n                particle.body.height,\n                x,\n                y,\n                w,\n                h\n            );\n\n            this.context.globalAlpha = 1;\n            this.context.restore();\n        }\n    }\n\n    // private drawCircle --\n    drawCircle(particle) {\n        if (particle.rgb) {\n            this.context.fillStyle = `rgba(${particle.rgb.r},${particle.rgb.g},${particle.rgb.b},${particle.alpha})`;\n        } else {\n            this.context.fillStyle = particle.color;\n        }\n\n        // draw circle\n        this.context.beginPath();\n        this.context.arc(\n            particle.p.x,\n            particle.p.y,\n            particle.radius,\n            0,\n            Math.PI * 2,\n            true\n        );\n\n        if (this.stroke) {\n            this.context.strokeStyle = this.stroke.color;\n            this.context.lineWidth = this.stroke.thinkness;\n            this.context.stroke();\n        }\n\n        this.context.closePath();\n        this.context.fill();\n    }\n\n    // private createBuffer\n    createBuffer(image) {\n        if (image instanceof Image) {\n            const size = image.width + \"_\" + image.height;\n            let canvas = this.bufferCache[size];\n\n            if (!canvas) {\n                canvas = document.createElement(\"canvas\");\n                canvas.width = image.width;\n                canvas.height = image.height;\n                this.bufferCache[size] = canvas;\n            }\n\n            return canvas;\n        }\n    }\n}\n","import DomUtil from \"../utils/DomUtil\";\nimport ImgUtil from \"../utils/ImgUtil\";\nimport BaseRenderer from \"./BaseRenderer\";\n\nexport default class DomRenderer extends BaseRenderer {\n  constructor(element) {\n    super(element);\n\n    this.stroke = null;\n    this.pool.create = (body, particle) => this.createBody(body, particle);\n    this.addImg2Body = this.addImg2Body.bind(this);\n\n    this.transform3d = false;\n    this.name = \"DomRenderer\";\n  }\n\n  onParticleCreated(particle) {\n    if (particle.body) {\n      ImgUtil.getImgFromCache(particle.body, this.addImg2Body, particle);\n    } else {\n      particle.body = this.pool.get(this.circleConf, particle);\n      this.element.appendChild(particle.body);\n    }\n  }\n\n  onParticleUpdate(particle) {\n    if (this.bodyReady(particle)) {\n      if (this.transform3d)\n        DomUtil.transform3d(\n          particle.body,\n          particle.p.x,\n          particle.p.y,\n          particle.scale,\n          particle.rotation\n        );\n      else\n        DomUtil.transform(\n          particle.body,\n          particle.p.x,\n          particle.p.y,\n          particle.scale,\n          particle.rotation\n        );\n\n      particle.body.style.opacity = particle.alpha;\n      if (particle.body.isCircle) {\n        particle.body.style.backgroundColor = particle.color || \"#ff0000\";\n      }\n    }\n  }\n\n  onParticleDead(particle) {\n    if (this.bodyReady(particle)) {\n      this.element.removeChild(particle.body);\n      this.pool.expire(particle.body);\n      particle.body = null;\n    }\n  }\n\n  bodyReady(particle) {\n    return (\n      typeof particle.body === \"object\" &&\n      particle.body &&\n      !particle.body.isInner\n    );\n  }\n\n  // private\n  addImg2Body(img, particle) {\n    if (particle.dead) return;\n    particle.body = this.pool.get(img, particle);\n    DomUtil.resize(particle.body, img.width, img.height);\n\n    this.element.appendChild(particle.body);\n  }\n\n  createBody(body, particle) {\n    if (body.isCircle) return this.createCircle(particle);\n    else return this.createSprite(body, particle);\n  }\n\n  // private --\n  createCircle(particle) {\n    const dom = DomUtil.createDiv(\n      `${particle.id}_dom`,\n      2 * particle.radius,\n      2 * particle.radius\n    );\n    dom.style.borderRadius = `${particle.radius}px`;\n\n    if (this.stroke) {\n      dom.style.borderColor = this.stroke.color;\n      dom.style.borderWidth = `${this.stroke.thinkness}px`;\n    }\n    dom.isCircle = true;\n\n    return dom;\n  }\n\n  createSprite(body, particle) {\n    const url = typeof body === \"string\" ? body : body.src;\n    const dom = DomUtil.createDiv(\n      `${particle.id}_dom`,\n      body.width,\n      body.height\n    );\n    dom.style.backgroundImage = `url(${url})`;\n\n    return dom;\n  }\n}\n","import BaseRenderer from \"./BaseRenderer\";\n\nexport default class EaselRenderer extends BaseRenderer {\n  constructor(element, stroke) {\n    super(element);\n\n    this.stroke = stroke;\n    this.name = \"EaselRenderer\";\n  }\n\n  onParticleCreated(particle) {\n    if (particle.body) {\n      this.createSprite(particle);\n    } else {\n      this.createCircle(particle);\n    }\n\n    this.element.addChild(particle.body);\n  }\n\n  onParticleUpdate(particle) {\n    if (particle.body) {\n      particle.body.x = particle.p.x;\n      particle.body.y = particle.p.y;\n\n      particle.body.alpha = particle.alpha;\n      particle.body.scaleX = particle.body.scaleY = particle.scale;\n      particle.body.rotation = particle.rotation;\n    }\n  }\n\n  onParticleDead(particle) {\n    if (particle.body) {\n      particle.body.parent && particle.body.parent.removeChild(particle.body);\n      this.pool.expire(particle.body);\n      particle.body = null;\n    }\n\n    if (particle.graphics) this.pool.expire(particle.graphics);\n  }\n\n  // private\n  createSprite(particle) {\n    particle.body = this.pool.get(particle.body);\n\n    if (particle.body.parent) return;\n    if (particle.body[\"image\"]) {\n      particle.body.regX = particle.body.image.width / 2;\n      particle.body.regY = particle.body.image.height / 2;\n    }\n  }\n\n  createCircle(particle) {\n    const graphics = this.pool.get(createjs.Graphics);\n\n    if (this.stroke) {\n      if (this.stroke instanceof String) graphics.beginStroke(this.stroke);\n      else graphics.beginStroke(\"#000000\");\n    }\n    graphics\n      .beginFill(particle.color || \"#ff0000\")\n      .drawCircle(0, 0, particle.radius);\n\n    const shape = this.pool.get(createjs.Shape, [graphics]);\n\n    particle.body = shape;\n    particle.graphics = graphics;\n  }\n}\n","import Rectangle from \"../math/Rectangle\";\nimport BaseRenderer from \"./BaseRenderer\";\n\nexport default class PixelRenderer extends BaseRenderer {\n  constructor(element, rectangle) {\n    super(element);\n\n    this.context = this.element.getContext(\"2d\");\n    this.imageData = null;\n    this.rectangle = null;\n    this.rectangle = rectangle;\n    this.createImageData(rectangle);\n\n    this.name = \"PixelRenderer\";\n  }\n\n  resize(width, height) {\n    this.element.width = width;\n    this.element.height = height;\n  }\n\n  createImageData(rectangle) {\n    this.rectangle = rectangle\n      ? rectangle\n      : new Rectangle(0, 0, this.element.width, this.element.height);\n    this.imageData = this.context.createImageData(\n      this.rectangle.width,\n      this.rectangle.height\n    );\n    this.context.putImageData(\n      this.imageData,\n      this.rectangle.x,\n      this.rectangle.y\n    );\n  }\n\n  onProtonUpdate() {\n    this.context.clearRect(\n      this.rectangle.x,\n      this.rectangle.y,\n      this.rectangle.width,\n      this.rectangle.height\n    );\n    this.imageData = this.context.getImageData(\n      this.rectangle.x,\n      this.rectangle.y,\n      this.rectangle.width,\n      this.rectangle.height\n    );\n  }\n\n  onProtonUpdateAfter() {\n    this.context.putImageData(\n      this.imageData,\n      this.rectangle.x,\n      this.rectangle.y\n    );\n  }\n\n  onParticleCreated(particle) {}\n\n  onParticleUpdate(particle) {\n    if (this.imageData) {\n      this.setPixel(\n        this.imageData,\n        Math.floor(particle.p.x - this.rectangle.x),\n        Math.floor(particle.p.y - this.rectangle.y),\n        particle\n      );\n    }\n  }\n\n  setPixel(imagedata, x, y, particle) {\n    const rgb = particle.rgb;\n    if (x < 0 || x > this.element.width || y < 0 || y > this.elementwidth)\n      return;\n\n    const i = ((y >> 0) * imagedata.width + (x >> 0)) * 4;\n\n    imagedata.data[i] = rgb.r;\n    imagedata.data[i + 1] = rgb.g;\n    imagedata.data[i + 2] = rgb.b;\n    imagedata.data[i + 3] = particle.alpha * 255;\n  }\n\n  onParticleDead(particle) {}\n}\n","import ColorUtil from \"../utils/ColorUtil\";\nimport MathUtil from \"../math/MathUtil\";\nimport BaseRenderer from \"./BaseRenderer\";\n\nlet PIXIClass;\nexport default class PixiRenderer extends BaseRenderer {\n  constructor(element, stroke) {\n    super(element);\n\n    this.stroke = stroke;\n    this.color = false;\n    this.setColor = false;\n    this.blendMode = null;\n    this.pool.create = (body, particle) => this.createBody(body, particle);\n    this.setPIXI(window.PIXI);\n\n    this.name = \"PixiRenderer\";\n  }\n\n  setPIXI(PIXI) {\n    try {\n      PIXIClass = PIXI || { Sprite: {} };\n      this.createFromImage =\n        PIXIClass.Sprite.from || PIXIClass.Sprite.fromImage;\n    } catch (e) {}\n  }\n\n  onProtonUpdate() {}\n\n  /**\n   * @param particle\n   */\n  onParticleCreated(particle) {\n    if (particle.body) {\n      particle.body = this.pool.get(particle.body, particle);\n    } else {\n      particle.body = this.pool.get(this.circleConf, particle);\n    }\n\n    if (this.blendMode) {\n      particle.body.blendMode = this.blendMode;\n    }\n\n    this.element.addChild(particle.body);\n  }\n\n  /**\n   * @param particle\n   */\n  onParticleUpdate(particle) {\n    this.transform(particle, particle.body);\n\n    if (this.setColor === true || this.color === true) {\n      particle.body.tint = ColorUtil.getHex16FromParticle(particle);\n    }\n  }\n\n  /**\n   * @param particle\n   */\n  onParticleDead(particle) {\n    this.element.removeChild(particle.body);\n    this.pool.expire(particle.body);\n    particle.body = null;\n  }\n\n  destroy(particles) {\n    super.destroy();\n    this.pool.destroy();\n\n    let i = particles.length;\n    while (i--) {\n      let particle = particles[i];\n      if (particle.body) {\n        this.element.removeChild(particle.body);\n      }\n    }\n  }\n\n  transform(particle, target) {\n    target.x = particle.p.x;\n    target.y = particle.p.y;\n\n    target.alpha = particle.alpha;\n\n    target.scale.x = particle.scale;\n    target.scale.y = particle.scale;\n\n    // using cached version of MathUtil.PI_180 for slight performance increase.\n    target.rotation = particle.rotation * MathUtil.PI_180; // MathUtil.PI_180;\n  }\n\n  createBody(body, particle) {\n    if (body.isCircle) return this.createCircle(particle);\n    else return this.createSprite(body);\n  }\n\n  createSprite(body) {\n    const sprite = body.isInner\n      ? this.createFromImage(body.src)\n      : new PIXIClass.Sprite(body);\n\n    sprite.anchor.x = 0.5;\n    sprite.anchor.y = 0.5;\n\n    return sprite;\n  }\n\n  createCircle(particle) {\n    const graphics = new PIXIClass.Graphics();\n\n    if (this.stroke) {\n      const stroke = this.stroke instanceof String ? this.stroke : 0x000000;\n      graphics.beginStroke(stroke);\n    }\n\n    graphics.beginFill(particle.color || 0x008ced);\n    graphics.drawCircle(0, 0, particle.radius);\n    graphics.endFill();\n\n    return graphics;\n  }\n}\n","import Mat3 from \"../math/Mat3\";\n\nexport default class MStack {\n  constructor() {\n    this.mats = [];\n    this.size = 0;\n\n    for (let i = 0; i < 20; i++)\n      this.mats.push(Mat3.create([0, 0, 0, 0, 0, 0, 0, 0, 0]));\n  }\n\n  set(m, i) {\n    if (i === 0) Mat3.set(m, this.mats[0]);\n    else Mat3.multiply(this.mats[i - 1], m, this.mats[i]);\n\n    this.size = Math.max(this.size, i + 1);\n  }\n\n  push(m) {\n    if (this.size === 0) Mat3.set(m, this.mats[0]);\n    else Mat3.multiply(this.mats[this.size - 1], m, this.mats[this.size]);\n\n    this.size++;\n  }\n\n  pop() {\n    if (this.size > 0) this.size--;\n  }\n\n  top() {\n    return this.mats[this.size - 1];\n  }\n}\n","import Mat3 from '../math/Mat3';\nimport BaseRenderer from './BaseRenderer';\n\nimport Util from '../utils/Util';\nimport ImgUtil from '../utils/ImgUtil';\nimport MStack from '../utils/MStack';\nimport DomUtil from '../utils/DomUtil';\nimport WebGLUtil from '../utils/WebGLUtil';\nimport MathUtil from '../math/MathUtil';\n\nexport default class WebGLRenderer extends BaseRenderer {\n\n    constructor(element) {\n        super(element);\n\n        this.gl = this.element.getContext('experimental-webgl', { antialias: true, stencil: false, depth: false });\n        if (!this.gl) alert('Sorry your browser do not suppest WebGL!');\n\n        this.initVar();\n        this.setMaxRadius();\n        this.initShaders();\n        this.initBuffers();\n\n        this.gl.blendEquation(this.gl.FUNC_ADD);\n        this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA);\n        this.gl.enable(this.gl.BLEND);\n\n        this.addImg2Body = this.addImg2Body.bind(this);\n\n        this.name = 'WebGLRenderer';\n    }\n\n    init(proton) {\n        super.init(proton);\n        this.resize(this.element.width, this.element.height);\n    }\n\n    resize(width, height) {\n        this.umat[4] = -2;\n        this.umat[7] = 1;\n\n        this.smat[0] = 1 / width;\n        this.smat[4] = 1 / height;\n\n        this.mstack.set(this.umat, 0);\n        this.mstack.set(this.smat, 1);\n\n        this.gl.viewport(0, 0, width, height);\n        this.element.width = width;\n        this.element.height = height;\n    }\n\n    setMaxRadius(radius) {\n        this.circleCanvasURL = this.createCircle(radius);\n    }\n\n    getVertexShader() {\n        const vsSource = ['uniform vec2 viewport;', 'attribute vec2 aVertexPosition;', 'attribute vec2 aTextureCoord;', 'uniform mat3 tMat;', 'varying vec2 vTextureCoord;', 'varying float alpha;', 'void main() {', 'vec3 v = tMat * vec3(aVertexPosition, 1.0);', 'gl_Position = vec4(v.x, v.y, 0, 1);', 'vTextureCoord = aTextureCoord;', 'alpha = tMat[0][2];', '}'].join('\\n');\n        return vsSource;\n    }\n\n    getFragmentShader() {\n        const fsSource = ['precision mediump float;', 'varying vec2 vTextureCoord;', 'varying float alpha;', 'uniform sampler2D uSampler;', 'uniform vec4 color;', 'uniform bool useTexture;', 'uniform vec3 uColor;', 'void main() {', 'vec4 textureColor = texture2D(uSampler, vTextureCoord);', 'gl_FragColor = textureColor * vec4(uColor, 1.0);', 'gl_FragColor.w *= alpha;', '}'].join('\\n');\n        return fsSource;\n    }\n\n    initVar() {\n        this.mstack = new MStack();\n        this.umat = Mat3.create([2, 0, 1, 0, -2, 0, -1, 1, 1]);\n        this.smat = Mat3.create([1 / 100, 0, 1, 0, 1 / 100, 0, 0, 0, 1]);\n        this.texturebuffers = {};\n    }\n\n    blendEquation(A) {\n        this.gl.blendEquation(this.gl[A]);\n    }\n\n    blendFunc(A, B) {\n        this.gl.blendFunc(this.gl[A], this.gl[B]);\n    }\n\n    getShader(gl, str, fs) {\n        const shader = fs ? gl.createShader(gl.FRAGMENT_SHADER) : gl.createShader(gl.VERTEX_SHADER);\n\n        gl.shaderSource(shader, str);\n        gl.compileShader(shader);\n\n        if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n            alert(gl.getShaderInfoLog(shader));\n            return null;\n        }\n\n        return shader;\n    }\n\n    initShaders() {\n        const fragmentShader = this.getShader(this.gl, this.getFragmentShader(), true);\n        const vertexShader = this.getShader(this.gl, this.getVertexShader(), false);\n\n        this.sprogram = this.gl.createProgram();\n        this.gl.attachShader(this.sprogram, vertexShader);\n        this.gl.attachShader(this.sprogram, fragmentShader);\n        this.gl.linkProgram(this.sprogram);\n\n        if (!this.gl.getProgramParameter(this.sprogram, this.gl.LINK_STATUS))\n            alert('Could not initialise shaders');\n\n        this.gl.useProgram(this.sprogram);\n        this.sprogram.vpa = this.gl.getAttribLocation(this.sprogram, 'aVertexPosition');\n        this.sprogram.tca = this.gl.getAttribLocation(this.sprogram, 'aTextureCoord');\n        this.gl.enableVertexAttribArray(this.sprogram.tca);\n        this.gl.enableVertexAttribArray(this.sprogram.vpa);\n\n        this.sprogram.tMatUniform = this.gl.getUniformLocation(this.sprogram, 'tMat');\n        this.sprogram.samplerUniform = this.gl.getUniformLocation(this.sprogram, 'uSampler');\n        this.sprogram.useTex = this.gl.getUniformLocation(this.sprogram, 'useTexture');\n        this.sprogram.color = this.gl.getUniformLocation(this.sprogram, 'uColor');\n        this.gl.uniform1i(this.sprogram.useTex, 1);\n    };\n\n    initBuffers() {\n        const vs = [0, 3, 1, 0, 2, 3];\n        let idx;\n\n        this.unitIBuffer = this.gl.createBuffer();\n        this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, this.unitIBuffer);\n        this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER, new Uint16Array(vs), this.gl.STATIC_DRAW);\n\n        let i;\n        let ids = [];\n        for (i = 0; i < 100; i++) ids.push(i);\n        idx = new Uint16Array(ids);\n\n        this.unitI33 = this.gl.createBuffer();\n        this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, this.unitI33);\n        this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER, idx, this.gl.STATIC_DRAW);\n\n        ids = [];\n        for (i = 0; i < 100; i++) ids.push(i, i + 1, i + 2);\n        idx = new Uint16Array(ids);\n\n        this.stripBuffer = this.gl.createBuffer();\n        this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, this.stripBuffer);\n        this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER, idx, this.gl.STATIC_DRAW);\n    };\n\n    createCircle(raidus) {\n        this.circleCanvasRadius = WebGLUtil.nhpot(Util.initValue(raidus, 32));\n        const canvas = DomUtil.createCanvas('circle_canvas', this.circleCanvasRadius * 2, this.circleCanvasRadius * 2);\n        const context = canvas.getContext('2d');\n\n        context.beginPath();\n        context.arc(this.circleCanvasRadius, this.circleCanvasRadius, this.circleCanvasRadius, 0, Math.PI * 2, true);\n        context.closePath();\n        context.fillStyle = '#FFF';\n        context.fill();\n\n        return canvas.toDataURL();\n    };\n\n    drawImg2Canvas(particle) {\n        const _w = particle.body.width;\n        const _h = particle.body.height;\n\n        const _width = WebGLUtil.nhpot(particle.body.width);\n        const _height = WebGLUtil.nhpot(particle.body.height);\n\n        const _scaleX = particle.body.width / _width;\n        const _scaleY = particle.body.height / _height;\n\n        if (!this.texturebuffers[particle.data.src])\n            this.texturebuffers[particle.data.src] = [this.gl.createTexture(), this.gl.createBuffer(), this.gl.createBuffer()];\n\n        particle.data.texture = this.texturebuffers[particle.data.src][0];\n        particle.data.vcBuffer = this.texturebuffers[particle.data.src][1];\n        particle.data.tcBuffer = this.texturebuffers[particle.data.src][2];\n\n        this.gl.bindBuffer(this.gl.ARRAY_BUFFER, particle.data.tcBuffer);\n        this.gl.bufferData(this.gl.ARRAY_BUFFER, new Float32Array([0.0, 0.0, _scaleX, 0.0, 0.0, _scaleY, _scaleY, _scaleY]), this.gl.STATIC_DRAW);\n        this.gl.bindBuffer(this.gl.ARRAY_BUFFER, particle.data.vcBuffer);\n        this.gl.bufferData(this.gl.ARRAY_BUFFER, new Float32Array([0.0, 0.0, _w, 0.0, 0.0, _h, _w, _h]), this.gl.STATIC_DRAW);\n\n        const context = particle.data.canvas.getContext('2d');\n        const data = context.getImageData(0, 0, _width, _height);\n\n        this.gl.bindTexture(this.gl.TEXTURE_2D, particle.data.texture);\n        this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGBA, this.gl.RGBA, this.gl.UNSIGNED_BYTE, data);\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MAG_FILTER, this.gl.LINEAR);\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.LINEAR_MIPMAP_NEAREST);\n        this.gl.generateMipmap(this.gl.TEXTURE_2D);\n\n        particle.data.textureLoaded = true;\n        particle.data.textureWidth = _w;\n        particle.data.textureHeight = _h;\n    }\n\n    onProtonUpdate() {\n        // this.gl.clearColor(0, 0, 0, 1);\n        // this.gl.clear(this.gl.COLOR_BUFFER_BIT | this.gl.DEPTH_BUFFER_BIT);\n    }\n\n    onParticleCreated(particle) {\n        particle.data.textureLoaded = false;\n        particle.data.tmat = Mat3.create();\n        particle.data.tmat[8] = 1;\n        particle.data.imat = Mat3.create();\n        particle.data.imat[8] = 1;\n\n        if (particle.body) {\n            ImgUtil.getImgFromCache(particle.body, this.addImg2Body, particle);\n        } else {\n            ImgUtil.getImgFromCache(this.circleCanvasURL, this.addImg2Body, particle);\n            particle.data.oldScale = particle.radius / this.circleCanvasRadius;\n        }\n    }\n\n    // private\n    addImg2Body(img, particle) {\n        if (particle.dead) return;\n        particle.body = img;\n        particle.data.src = img.src;\n        particle.data.canvas = ImgUtil.getCanvasFromCache(img);\n        particle.data.oldScale = 1;\n\n        this.drawImg2Canvas(particle);\n    }\n\n    onParticleUpdate(particle) {\n        if (particle.data.textureLoaded) {\n            this.updateMatrix(particle);\n\n            this.gl.uniform3f(this.sprogram.color, particle.rgb.r / 255, particle.rgb.g / 255, particle.rgb.b / 255);\n            this.gl.uniformMatrix3fv(this.sprogram.tMatUniform, false, this.mstack.top());\n\n            this.gl.bindBuffer(this.gl.ARRAY_BUFFER, particle.data.vcBuffer);\n            this.gl.vertexAttribPointer(this.sprogram.vpa, 2, this.gl.FLOAT, false, 0, 0);\n            this.gl.bindBuffer(this.gl.ARRAY_BUFFER, particle.data.tcBuffer);\n            this.gl.vertexAttribPointer(this.sprogram.tca, 2, this.gl.FLOAT, false, 0, 0);\n            this.gl.bindTexture(this.gl.TEXTURE_2D, particle.data.texture);\n            this.gl.uniform1i(this.sprogram.samplerUniform, 0);\n            this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, this.unitIBuffer);\n\n            this.gl.drawElements(this.gl.TRIANGLES, 6, this.gl.UNSIGNED_SHORT, 0);\n\n            this.mstack.pop();\n        }\n    }\n\n    onParticleDead(particle) { }\n\n    updateMatrix(particle) {\n        const moveOriginMatrix = WebGLUtil.makeTranslation(-particle.data.textureWidth / 2, -particle.data.textureHeight / 2);\n        const translationMatrix = WebGLUtil.makeTranslation(particle.p.x, particle.p.y);\n\n        const angel = particle.rotation * (MathUtil.PI_180);\n        const rotationMatrix = WebGLUtil.makeRotation(angel);\n\n        const scale = particle.scale * particle.data.oldScale;\n        const scaleMatrix = WebGLUtil.makeScale(scale, scale);\n        let matrix = WebGLUtil.matrixMultiply(moveOriginMatrix, scaleMatrix);\n\n        matrix = WebGLUtil.matrixMultiply(matrix, rotationMatrix);\n        matrix = WebGLUtil.matrixMultiply(matrix, translationMatrix);\n\n        Mat3.inverse(matrix, particle.data.imat);\n        matrix[2] = particle.alpha;\n\n        this.mstack.push(matrix);\n    }\n}","import BaseRenderer from \"./BaseRenderer\";\n\nexport default class CustomRenderer extends BaseRenderer {\n  constructor(element) {\n    super(element);\n\n    this.name = \"CustomRenderer\";\n  }\n}\n","import Zone from \"./Zone\";\nimport Util from \"../utils/Util\";\nimport MathUtil from \"../math/MathUtil\";\n\nexport default class LineZone extends Zone {\n  constructor(x1, y1, x2, y2, direction) {\n    super();\n\n    if (x2 - x1 >= 0) {\n      this.x1 = x1;\n      this.y1 = y1;\n      this.x2 = x2;\n      this.y2 = y2;\n    } else {\n      this.x1 = x2;\n      this.y1 = y2;\n      this.x2 = x1;\n      this.y2 = y1;\n    }\n\n    this.dx = this.x2 - this.x1;\n    this.dy = this.y2 - this.y1;\n\n    this.minx = Math.min(this.x1, this.x2);\n    this.miny = Math.min(this.y1, this.y2);\n    this.maxx = Math.max(this.x1, this.x2);\n    this.maxy = Math.max(this.y1, this.y2);\n\n    this.dot = this.x2 * this.y1 - this.x1 * this.y2;\n    this.xxyy = this.dx * this.dx + this.dy * this.dy;\n\n    this.gradient = this.getGradient();\n    this.length = this.getLength();\n    this.direction = Util.initValue(direction, \">\");\n  }\n\n  getPosition() {\n    this.random = Math.random();\n\n    this.vector.x =\n      this.x1 + this.random * this.length * Math.cos(this.gradient);\n    this.vector.y =\n      this.y1 + this.random * this.length * Math.sin(this.gradient);\n\n    return this.vector;\n  }\n\n  getDirection(x, y) {\n    const A = this.dy;\n    const B = -this.dx;\n    const C = this.dot;\n    const D = B === 0 ? 1 : B;\n\n    if ((A * x + B * y + C) * D > 0) return true;\n    else return false;\n  }\n\n  getDistance(x, y) {\n    const A = this.dy;\n    const B = -this.dx;\n    const C = this.dot;\n    const D = A * x + B * y + C;\n\n    return D / Math.sqrt(this.xxyy);\n  }\n\n  getSymmetric(v) {\n    const tha2 = v.getGradient();\n    const tha1 = this.getGradient();\n    const tha = 2 * (tha1 - tha2);\n\n    const oldx = v.x;\n    const oldy = v.y;\n\n    v.x = oldx * Math.cos(tha) - oldy * Math.sin(tha);\n    v.y = oldx * Math.sin(tha) + oldy * Math.cos(tha);\n\n    return v;\n  }\n\n  getGradient() {\n    return Math.atan2(this.dy, this.dx);\n  }\n\n  rangeOut(particle) {\n    const angle = Math.abs(this.getGradient());\n\n    if (angle <= MathUtil.PI / 4) {\n      if (particle.p.x <= this.maxx && particle.p.x >= this.minx) return true;\n    } else {\n      if (particle.p.y <= this.maxy && particle.p.y >= this.miny) return true;\n    }\n\n    return false;\n  }\n\n  getLength() {\n    return Math.sqrt(this.dx * this.dx + this.dy * this.dy);\n  }\n\n  crossing(particle) {\n    if (this.crossType === \"dead\") {\n      if (\n        this.direction === \">\" ||\n        this.direction === \"R\" ||\n        this.direction === \"right\" ||\n        this.direction === \"down\"\n      ) {\n        if (!this.rangeOut(particle)) return;\n        if (this.getDirection(particle.p.x, particle.p.y)) particle.dead = true;\n      } else {\n        if (!this.rangeOut(particle)) return;\n        if (!this.getDirection(particle.p.x, particle.p.y))\n          particle.dead = true;\n      }\n    } else if (this.crossType === \"bound\") {\n      if (!this.rangeOut(particle)) return;\n\n      if (this.getDistance(particle.p.x, particle.p.y) <= particle.radius) {\n        if (this.dx === 0) {\n          particle.v.x *= -1;\n        } else if (this.dy === 0) {\n          particle.v.y *= -1;\n        } else {\n          this.getSymmetric(particle.v);\n        }\n      }\n    } else if (this.crossType === \"cross\") {\n      if (this.alert) {\n        console.error(\"Sorry, LineZone does not support cross method!\");\n        this.alert = false;\n      }\n    }\n  }\n}\n","import Zone from \"./Zone\";\nimport MathUtil from \"../math/MathUtil\";\n\nexport default class CircleZone extends Zone {\n  constructor(x, y, radius) {\n    super();\n\n    this.x = x;\n    this.y = y;\n    this.radius = radius;\n\n    this.angle = 0;\n    this.center = { x, y };\n  }\n\n  getPosition() {\n    this.angle = MathUtil.PIx2 * Math.random();\n    this.randomRadius = Math.random() * this.radius;\n\n    this.vector.x = this.x + this.randomRadius * Math.cos(this.angle);\n    this.vector.y = this.y + this.randomRadius * Math.sin(this.angle);\n\n    return this.vector;\n  }\n\n  setCenter(x, y) {\n    this.center.x = x;\n    this.center.y = y;\n  }\n\n  crossing(particle) {\n    const d = particle.p.distanceTo(this.center);\n\n    if (this.crossType === \"dead\") {\n      if (d - particle.radius > this.radius) particle.dead = true;\n    } else if (this.crossType === \"bound\") {\n      if (d + particle.radius >= this.radius) this.getSymmetric(particle);\n    } else if (this.crossType === \"cross\") {\n      if (this.alert) {\n        console.error(\"Sorry, CircleZone does not support cross method!\");\n        this.alert = false;\n      }\n    }\n  }\n\n  getSymmetric(particle) {\n    let tha2 = particle.v.getGradient();\n    let tha1 = this.getGradient(particle);\n\n    let tha = 2 * (tha1 - tha2);\n    let oldx = particle.v.x;\n    let oldy = particle.v.y;\n\n    particle.v.x = oldx * Math.cos(tha) - oldy * Math.sin(tha);\n    particle.v.y = oldx * Math.sin(tha) + oldy * Math.cos(tha);\n  }\n\n  getGradient(particle) {\n    return (\n      -MathUtil.PI_2 +\n      Math.atan2(particle.p.y - this.center.y, particle.p.x - this.center.x)\n    );\n  }\n}\n","import Zone from \"./Zone\";\n\nexport default class RectZone extends Zone {\n  constructor(x, y, width, height) {\n    super();\n\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n  }\n\n  getPosition() {\n    this.vector.x = this.x + Math.random() * this.width;\n    this.vector.y = this.y + Math.random() * this.height;\n\n    return this.vector;\n  }\n\n  crossing(particle) {\n    // particle dead zone\n    if (this.crossType === \"dead\") {\n      if (particle.p.x + particle.radius < this.x) particle.dead = true;\n      else if (particle.p.x - particle.radius > this.x + this.width)\n        particle.dead = true;\n\n      if (particle.p.y + particle.radius < this.y) particle.dead = true;\n      else if (particle.p.y - particle.radius > this.y + this.height)\n        particle.dead = true;\n    }\n\n    // particle bound zone\n    else if (this.crossType === \"bound\") {\n      if (particle.p.x - particle.radius < this.x) {\n        particle.p.x = this.x + particle.radius;\n        particle.v.x *= -1;\n      } else if (particle.p.x + particle.radius > this.x + this.width) {\n        particle.p.x = this.x + this.width - particle.radius;\n        particle.v.x *= -1;\n      }\n\n      if (particle.p.y - particle.radius < this.y) {\n        particle.p.y = this.y + particle.radius;\n        particle.v.y *= -1;\n      } else if (particle.p.y + particle.radius > this.y + this.height) {\n        particle.p.y = this.y + this.height - particle.radius;\n        particle.v.y *= -1;\n      }\n    }\n\n    // particle cross zone\n    else if (this.crossType === \"cross\") {\n      if (particle.p.x + particle.radius < this.x && particle.v.x <= 0)\n        particle.p.x = this.x + this.width + particle.radius;\n      else if (\n        particle.p.x - particle.radius > this.x + this.width &&\n        particle.v.x >= 0\n      )\n        particle.p.x = this.x - particle.radius;\n\n      if (particle.p.y + particle.radius < this.y && particle.v.y <= 0)\n        particle.p.y = this.y + this.height + particle.radius;\n      else if (\n        particle.p.y - particle.radius > this.y + this.height &&\n        particle.v.y >= 0\n      )\n        particle.p.y = this.y - particle.radius;\n    }\n  }\n}\n","import Zone from \"./Zone\";\nimport Util from \"../utils/Util\";\n\nexport default class ImageZone extends Zone {\n  constructor(imageData, x, y, d) {\n    super();\n\n    this.reset(imageData, x, y, d);\n  }\n\n  reset(imageData, x, y, d) {\n    this.imageData = imageData;\n    this.x = Util.initValue(x, 0);\n    this.y = Util.initValue(y, 0);\n    this.d = Util.initValue(d, 2);\n\n    this.vectors = [];\n    this.setVectors();\n  }\n\n  setVectors() {\n    let i, j;\n    const length1 = this.imageData.width;\n    const length2 = this.imageData.height;\n\n    for (i = 0; i < length1; i += this.d) {\n      for (j = 0; j < length2; j += this.d) {\n        let index = ((j >> 0) * length1 + (i >> 0)) * 4;\n\n        if (this.imageData.data[index + 3] > 0) {\n          this.vectors.push({ x: i + this.x, y: j + this.y });\n        }\n      }\n    }\n\n    return this.vector;\n  }\n\n  getBound(x, y) {\n    var index = ((y >> 0) * this.imageData.width + (x >> 0)) * 4;\n    if (this.imageData.data[index + 3] > 0) return true;\n    else return false;\n  }\n\n  getPosition() {\n    const vector = Util.getRandFromArray(this.vectors);\n    return this.vector.copy(vector);\n  }\n\n  getColor(x, y) {\n    x -= this.x;\n    y -= this.y;\n    var i = ((y >> 0) * this.imageData.width + (x >> 0)) * 4;\n\n    return {\n      r: this.imageData.data[i],\n      g: this.imageData.data[i + 1],\n      b: this.imageData.data[i + 2],\n      a: this.imageData.data[i + 3]\n    };\n  }\n\n  crossing(particle) {\n    if (this.crossType === \"dead\") {\n      if (this.getBound(particle.p.x - this.x, particle.p.y - this.y))\n        particle.dead = true;\n      else particle.dead = false;\n    } else if (this.crossType === \"bound\") {\n      if (!this.getBound(particle.p.x - this.x, particle.p.y - this.y))\n        particle.v.negate();\n    }\n  }\n}\n","import ColorUtil from \"../utils/ColorUtil\";\nimport CircleZone from \"../zone/CircleZone\";\nimport PointZone from \"../zone/PointZone\";\nimport LineZone from \"../zone/LineZone\";\nimport RectZone from \"../zone/RectZone\";\n\nexport default {\n  addEventListener(proton, func) {\n    proton.addEventListener(\"PROTON_UPDATE_AFTER\", () => func());\n  },\n\n  getStyle(color = \"#ff0000\") {\n    const rgb = ColorUtil.hexToRgb(color);\n    return `rgba(${rgb.r}, ${rgb.g}, ${rgb.b}, 0.5)`;\n  },\n\n  drawZone(proton, canvas, zone, clear) {\n    const context = canvas.getContext(\"2d\");\n    const style = this.getStyle();\n\n    this.addEventListener(proton, () => {\n      if (clear) context.clearRect(0, 0, canvas.width, canvas.height);\n\n      if (zone instanceof PointZone) {\n        context.beginPath();\n        context.fillStyle = style;\n        context.arc(zone.x, zone.y, 10, 0, Math.PI * 2, true);\n        context.fill();\n        context.closePath();\n      } else if (zone instanceof LineZone) {\n        context.beginPath();\n        context.strokeStyle = style;\n        context.moveTo(zone.x1, zone.y1);\n        context.lineTo(zone.x2, zone.y2);\n        context.stroke();\n        context.closePath();\n      } else if (zone instanceof RectZone) {\n        context.beginPath();\n        context.strokeStyle = style;\n        context.drawRect(zone.x, zone.y, zone.width, zone.height);\n        context.stroke();\n        context.closePath();\n      } else if (zone instanceof CircleZone) {\n        context.beginPath();\n        context.strokeStyle = style;\n        context.arc(zone.x, zone.y, zone.radius, 0, Math.PI * 2, true);\n        context.stroke();\n        context.closePath();\n      }\n    });\n  },\n\n  drawEmitter(proton, canvas, emitter, clear) {\n    const context = canvas.getContext(\"2d\");\n    const style = this.getStyle();\n\n    this.addEventListener(proton, () => {\n      if (clear) context.clearRect(0, 0, canvas.width, canvas.height);\n\n      context.beginPath();\n      context.fillStyle = style;\n      context.arc(emitter.p.x, emitter.p.y, 10, 0, Math.PI * 2, true);\n      context.fill();\n      context.closePath();\n    });\n  }\n};\n","import Proton from \"./core/Proton\";\nimport Particle from \"./core/Particle\";\nimport Pool from \"./core/Pool\";\n\nimport Util from \"./utils/Util\";\nimport ColorUtil from \"./utils/ColorUtil\";\nimport MathUtil from \"./math/MathUtil\";\nimport Vector2D from \"./math/Vector2D\";\nimport Polar2D from \"./math/Polar2D\";\nimport Mat3 from \"./math/Mat3\";\nimport Span from \"./math/Span\";\nimport ArraySpan from \"./math/ArraySpan\";\nimport Rectangle from \"./math/Rectangle\";\nimport ease from \"./math/ease\";\n\nimport Rate from \"./initialize/Rate\";\nimport Initialize from \"./initialize/Initialize\";\nimport Life from \"./initialize/Life\";\nimport Position from \"./initialize/Position\";\nimport Velocity from \"./initialize/Velocity\";\nimport Mass from \"./initialize/Mass\";\nimport Radius from \"./initialize/Radius\";\nimport Body from \"./initialize/Body\";\n\nimport Behaviour from \"./behaviour/Behaviour\";\nimport Force from \"./behaviour/Force\";\nimport Attraction from \"./behaviour/Attraction\";\nimport RandomDrift from \"./behaviour/RandomDrift\";\nimport Gravity from \"./behaviour/Gravity\";\nimport Collision from \"./behaviour/Collision\";\nimport CrossZone from \"./behaviour/CrossZone\";\nimport Alpha from \"./behaviour/Alpha\";\nimport Scale from \"./behaviour/Scale\";\nimport Rotate from \"./behaviour/Rotate\";\nimport Color from \"./behaviour/Color\";\nimport Cyclone from \"./behaviour/Cyclone\";\nimport Repulsion from \"./behaviour/Repulsion\";\nimport GravityWell from \"./behaviour/GravityWell\";\n\nimport Emitter from \"./emitter/Emitter\";\nimport BehaviourEmitter from \"./emitter/BehaviourEmitter\";\nimport FollowEmitter from \"./emitter/FollowEmitter\";\n\nimport CanvasRenderer from \"./render/CanvasRenderer\";\nimport DomRenderer from \"./render/DomRenderer\";\nimport EaselRenderer from \"./render/EaselRenderer\";\nimport PixelRenderer from \"./render/PixelRenderer\";\nimport PixiRenderer from \"./render/PixiRenderer\";\nimport WebGLRenderer from \"./render/WebGLRenderer\";\nimport CustomRenderer from \"./render/CustomRenderer\";\n\nimport Zone from \"./zone/Zone\";\nimport LineZone from \"./zone/LineZone\";\nimport CircleZone from \"./zone/CircleZone\";\nimport PointZone from \"./zone/PointZone\";\nimport RectZone from \"./zone/RectZone\";\nimport ImageZone from \"./zone/ImageZone\";\n\nimport Debug from \"./debug/Debug\";\n\n// namespace\nProton.Particle = Proton.P = Particle;\nProton.Pool = Pool;\n\nProton.Util = Util;\nProton.ColorUtil = ColorUtil;\nProton.MathUtil = MathUtil;\nProton.Vector2D = Proton.Vector = Vector2D;\nProton.Polar2D = Proton.Polar = Polar2D;\nProton.ArraySpan = ArraySpan;\nProton.Rectangle = Rectangle;\nProton.Rate = Rate;\nProton.ease = ease;\nProton.Span = Span;\nProton.Mat3 = Mat3;\nProton.getSpan = (a, b, center) => new Span(a, b, center);\nProton.createArraySpan = ArraySpan.createArraySpan;\n\nProton.Initialize = Proton.Init = Initialize;\nProton.Life = Proton.L = Life;\nProton.Position = Proton.P = Position;\nProton.Velocity = Proton.V = Velocity;\nProton.Mass = Proton.M = Mass;\nProton.Radius = Proton.R = Radius;\nProton.Body = Proton.B = Body;\n\nProton.Behaviour = Behaviour;\nProton.Force = Proton.F = Force;\nProton.Attraction = Proton.A = Attraction;\nProton.RandomDrift = Proton.RD = RandomDrift;\nProton.Gravity = Proton.G = Gravity;\nProton.Collision = Collision;\nProton.CrossZone = CrossZone;\nProton.Alpha = Proton.A = Alpha;\nProton.Scale = Proton.S = Scale;\nProton.Rotate = Rotate;\nProton.Color = Color;\nProton.Repulsion = Repulsion;\nProton.Cyclone = Cyclone;\nProton.GravityWell = GravityWell;\n\nProton.Emitter = Emitter;\nProton.BehaviourEmitter = BehaviourEmitter;\nProton.FollowEmitter = FollowEmitter;\n\nProton.Zone = Zone;\nProton.LineZone = LineZone;\nProton.CircleZone = CircleZone;\nProton.PointZone = PointZone;\nProton.RectZone = RectZone;\nProton.ImageZone = ImageZone;\n\nProton.CanvasRenderer = CanvasRenderer;\nProton.DomRenderer = DomRenderer;\nProton.EaselRenderer = EaselRenderer;\nProton.PixiRenderer = PixiRenderer;\nProton.PixelRenderer = PixelRenderer;\nProton.WebGLRenderer = Proton.WebGlRenderer = WebGLRenderer;\nProton.CustomRenderer = CustomRenderer;\n\nProton.Debug = Debug;\n\nObject.assign(Proton, ease);\n\n// export\nexport default Proton;\n"],"names":["PI","INFINITY","Infinity","MathUtil","num","a","b","isInt","Math","random","floor","center","f","randomAToB","toString","slice","display","k","digits","pow","Span","Util","isArray","initValue","getRandFromArray","randomFloating","c","undefined","pan","getValue","length","i","tx","ty","angleInRadians","cos","s","sin","sx","sy","a00","a01","a02","a10","a11","a12","a20","a21","a22","b00","b01","b02","b10","b11","b12","b20","b21","b22","id","width","height","position","dom","document","createElement","style","opacity","transform","resize","marginLeft","marginTop","div","x","y","scale","rotate","willChange","css3","key","val","bkey","charAt","toUpperCase","substr","imgsCache","canvasCache","canvasId","context","image","rect","drawImage","imagedata","getImageData","clearRect","img","callback","param","src","Image","onload","e","target","WebGLUtil","nhpot","canvas","DomUtil","createCanvas","getContext","value","defaults","Object","prototype","call","arr","obj","ignore","indexOf","constructor","args","FactoryFunc","bind","apply","concat","particle","conf","hasProp","p","v","copy","props","prop","hasOwnProperty","getSpanValue","ImgUtil","destroy","idsMap","Puid","type","uid","getIdFromCache","_index","_cache","isBody","isInner","Pool","total","cache","params","__puid","getId","pop","createOrClone","getCache","push","create","classApply","clone","count","Stats","proton","container","emitterIndex","rendererIndex","body","add","emitter","getEmitter","renderer","getRenderer","str","emitters","emitSpeed","getEmitterPos","initializes","concatArr","behaviours","name","getCreatedNumber","getCount","pool","innerHTML","cssText","join","addEventListener","bg","color","parentNode","appendChild","renderers","result","cpool","round","EventDispatcher","_listeners","listener","removeEventListener","splice","listeners","handler","dispatchEvent","hasEventListener","removeAllEventListeners","Integration","particles","time","damping","eulerIntegrate","sleep","old","multiplyScalar","mass","clear","Proton","integrationType","now","then","elapsed","stats","EULER","integrator","_fps","_interval","DEFAULT_INTERVAL","render","init","index","remove","parent","EMITTER_ADDED","EMITTER_REMOVED","PROTON_UPDATE","USE_CLOCK","Date","getTime","amendChangeTabsBug","emittersUpdate","PROTON_UPDATE_AFTER","update","destroyAll","destroyOther","getAllParticles","fps","MEASURE","RK2","PARTICLE_CREATED","PARTICLE_UPDATE","PARTICLE_SLEEP","PARTICLE_DEAD","Rgb","r","g","PI_2","sqrt","ease","easeLinear","Vector2D","atan2","w","addVectors","subVectors","set","divideScalar","distanceToSquared","tha","dx","dy","alpha","Particle","data","rgb","reset","setProp","N180_PI","life","age","dead","sprite","energy","radius","rotation","easing","emptyObject","removeAllBehaviours","applyBehaviours","max","applyBehaviour","behaviour","parents","initialize","addBehaviour","emptyArray","h","hex16","substring","parseInt","rbg","Number","Polar2D","abs","getX","getY","Mat3","mat3","mat","Float32Array","mat1","mat2","d","m","vec","ArraySpan","_arr","toArray","randomColor","Rectangle","bottom","right","Rate","numpan","timepan","numPan","setSpanValue","timePan","startTime","nextTime","Initialize","Life","lifePan","Zone","vector","crossType","alert","PointZone","error","Position","zone","getPosition","Velocity","rpan","thapan","rPan","thaPan","vr","polar2d","normalizeVelocity","PI_180","Mass","massPan","Radius","oldRadius","Body","imageTarget","Behaviour","getEasing","force","removeBehaviour","Force","fx","fy","normalizeForce","calculate","Attraction","targetPosition","normalizeValue","radiusSq","attractionForce","lengthSq","sub","normalize","RandomDrift","driftX","driftY","delay","panFoce","addXY","Gravity","Collision","collisionPool","delta","newPool","otherParticle","overlap","totalMass","averageMass1","averageMass2","distance","CrossZone","crossing","Alpha","same","alphaA","alphaB","Scale","scaleA","scaleB","Rotate","influence","rotationA","rotationB","getDirection","Color","createArraySpan","colorA","ColorUtil","hexToRgb","colorB","CHANGING","Cyclone","angle","setAngleAndForce","span","String","toLowerCase","cangle","cyclone","gradient","getGradient","Repulsion","GravityWell","centerPoint","distanceVec","distanceSq","factor","bindEmitter","setVectorVal","degreeTransform","Emitter","emitTime","totalTime","rate","stoped","isNaN","oldStoped","oldEmitTime","oldTotalTime","step","initAll","rest","initializer","arguments","emitting","integrate","dispatch","expire","event","bindEvent","createParticle","get","setupParticle","addBehaviours","stop","removeAllInitializers","removeEmitter","BehaviourEmitter","selfBehaviours","FollowEmitter","mouseTarget","window","_allowEmitting","initEventHandler","mousemoveHandler","mousemove","mousedownHandler","mousedown","mouseupHandler","mouseup","layerX","layerY","offsetX","offsetY","babelHelpers.get","BaseRenderer","element","stroke","circleConf","isCircle","initHandler","thinkness","_protonUpdateHandler","onProtonUpdate","_protonUpdateAfterHandler","onProtonUpdateAfter","_emitterAddedHandler","onEmitterAdded","_emitterRemovedHandler","onEmitterRemoved","_particleCreatedHandler","onParticleCreated","_particleUpdateHandler","onParticleUpdate","_particleDeadHandler","onParticleDead","CanvasRenderer","bufferCache","getImgFromCache","addImg2Body","drawCircle","buffer","createBuffer","bufContext","globalAlpha","globalCompositeOperation","fillStyle","rgbToHex","fillRect","save","translate","restore","beginPath","arc","strokeStyle","lineWidth","closePath","fill","size","DomRenderer","createBody","transform3d","bodyReady","backgroundColor","removeChild","babelHelpers.typeof","createCircle","createSprite","createDiv","borderRadius","borderColor","borderWidth","url","backgroundImage","EaselRenderer","addChild","scaleX","scaleY","graphics","regX","regY","createjs","Graphics","beginStroke","beginFill","shape","Shape","PixelRenderer","rectangle","imageData","createImageData","putImageData","setPixel","elementwidth","PIXIClass","PixiRenderer","setColor","blendMode","setPIXI","PIXI","Sprite","createFromImage","from","fromImage","tint","getHex16FromParticle","anchor","endFill","MStack","mats","multiply","WebGLRenderer","gl","antialias","stencil","depth","initVar","setMaxRadius","initShaders","initBuffers","blendEquation","FUNC_ADD","blendFunc","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","enable","BLEND","umat","smat","mstack","viewport","circleCanvasURL","vsSource","fsSource","texturebuffers","A","B","fs","shader","createShader","FRAGMENT_SHADER","VERTEX_SHADER","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","fragmentShader","getShader","getFragmentShader","vertexShader","getVertexShader","sprogram","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","useProgram","vpa","getAttribLocation","tca","enableVertexAttribArray","tMatUniform","getUniformLocation","samplerUniform","useTex","uniform1i","vs","idx","unitIBuffer","bindBuffer","ELEMENT_ARRAY_BUFFER","bufferData","Uint16Array","STATIC_DRAW","ids","unitI33","stripBuffer","raidus","circleCanvasRadius","toDataURL","_w","_h","_width","_height","_scaleX","_scaleY","createTexture","texture","vcBuffer","tcBuffer","ARRAY_BUFFER","bindTexture","TEXTURE_2D","texImage2D","RGBA","UNSIGNED_BYTE","texParameteri","TEXTURE_MAG_FILTER","LINEAR","TEXTURE_MIN_FILTER","LINEAR_MIPMAP_NEAREST","generateMipmap","textureLoaded","textureWidth","textureHeight","tmat","imat","oldScale","getCanvasFromCache","drawImg2Canvas","updateMatrix","uniform3f","uniformMatrix3fv","top","vertexAttribPointer","FLOAT","drawElements","TRIANGLES","UNSIGNED_SHORT","moveOriginMatrix","makeTranslation","translationMatrix","angel","rotationMatrix","makeRotation","scaleMatrix","makeScale","matrix","matrixMultiply","inverse","CustomRenderer","LineZone","x1","y1","x2","y2","direction","minx","min","miny","maxx","maxy","dot","xxyy","getLength","C","D","tha2","tha1","oldx","oldy","rangeOut","getDistance","getSymmetric","CircleZone","PIx2","randomRadius","distanceTo","RectZone","ImageZone","vectors","setVectors","j","length1","length2","getBound","negate","func","getStyle","moveTo","lineTo","drawRect","P","Vector","Polar","getSpan","Init","L","V","M","R","F","RD","G","S","WebGlRenderer","Debug","assign"],"mappings":"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"}